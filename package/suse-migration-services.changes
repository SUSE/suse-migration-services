commit 646dc3789a5ff078764332e1b87636b4f37aec80
Author:     Fergal Mc Carthy <fmccarthy@suse.com>
AuthorDate: Tue Aug 13 13:26:17 2024 -0400
Commit:     Fergal Mc Carthy <fmccarthy@suse.com>
CommitDate: Tue Aug 13 13:26:17 2024 -0400

    Bump version: 2.0.39 → 2.0.40

commit 38021075c91080de9a0a6f8587ea800021da472c
Author:     Jana Jaeger <jana.jaeger@suse.com>
AuthorDate: Tue Aug 13 15:17:08 2024 +0200
Commit:     Jana Jaeger <jana.jaeger@suse.com>
CommitDate: Tue Aug 13 15:17:08 2024 +0200

    add metadata and revhistory and article ID

commit ec2cb0d6bf883191e125c4a18b61612f225ae40e
Author:     Fergal Mc Carthy <fmccarthy@suse.com>
AuthorDate: Tue Aug 13 08:04:34 2024 -0400
Commit:     Fergal Mc Carthy <fmccarthy@suse.com>
CommitDate: Tue Aug 13 08:04:34 2024 -0400

    SLES12 SP4 no longer a supported migration starting point.

commit bd515506bcd6e179172623ab8ed1bc9f409dabcd
Author:     Fergal Mc Carthy <fmccarthy@suse.com>
AuthorDate: Thu Aug 8 08:05:57 2024 -0400
Commit:     Fergal Mc Carthy <fmccarthy@suse.com>
CommitDate: Thu Aug 8 08:09:43 2024 -0400

    Switch default target and ISO backing distro SLE 15 SP3
    
    Update documentation to reflect new default target.
    
    Update image build config.kiwi to build the ISO image based upon
    SLE 15 SP3.
    
    Update unit tests to reflect new default target.
    
    Co-Authored-By: yarunachalam <yarunachalam@suse.com>

commit e1334f26e0f7d8e0f9fe7c6dbb714d7ceb793fae
Author:     Fergal Mc Carthy <fmccarthy@suse.com>
AuthorDate: Thu Aug 8 07:50:30 2024 -0400
Commit:     Fergal Mc Carthy <fmccarthy@suse.com>
CommitDate: Thu Aug 8 07:52:22 2024 -0400

    Remove custom legacy ruby based zypper-migration script
    
    The install of the legacy zypper-migration-plugin script was previously
    removed from the kiwi file.

commit 1b7ac85f2ac3d6550f0a98074a550d0be8917416
Author:     Fergal Mc Carthy <fmccarthy@suse.com>
AuthorDate: Wed Apr 10 09:34:31 2024 -0400
Commit:     Fergal Mc Carthy <fmccarthy@suse.com>
CommitDate: Wed Apr 10 09:34:31 2024 -0400

    Rename overlay zypper-migration plugin with -ruby suffix

commit c765767b92a286b23d09247f864ca7cec81bbc2b
Author:     Fergal Mc Carthy <fmccarthy@suse.com>
AuthorDate: Wed Apr 3 09:24:17 2024 -0400
Commit:     Fergal Mc Carthy <fmccarthy@suse.com>
CommitDate: Wed Apr 3 09:29:53 2024 -0400

    Fix update-bootloader to run after grub-setup  bsc#1222258
    
    Also checked to ensure that the sequencing for all systemd services
    now matches the ordering specified in helper/system.tree.

commit 423fea07a7e50c8352233df392a2525f169d2626
Author:     Fergal Mc Carthy <fmccarthy@suse.com>
AuthorDate: Thu Mar 7 09:36:49 2024 -0500
Commit:     Fergal Mc Carthy <fmccarthy@suse.com>
CommitDate: Thu Mar 7 09:36:49 2024 -0500

    Bump version: 2.0.38 → 2.0.39

commit 6cfe6318378a0f258fff544e19ef8f42fade27fc
Author:     Fergal Mc Carthy <fmccarthy@suse.com>
AuthorDate: Thu Mar 7 09:06:26 2024 -0500
Commit:     Fergal Mc Carthy <fmccarthy@suse.com>
CommitDate: Thu Mar 7 09:06:26 2024 -0500

    Address RPM spec file and config.kiwi dependency issues bsc#1219004
    
    Update the syse-migration-services RPM spec file dependencies to use
    suseconnect-ng rather than the legacy SUSEConnect.  While the existing
    dependency specification works with zypper dependency resolution, it
    doesn't work with the build service package resolution mechanism and
    breaks the build of the SLE 15 SP1 ISO image containing the package.
    
    Also update the config.kiwi used to build the SLE 15 SP1 ISO image to
    explicitly install suseconnect-ng and remove zypper-migration-plugin,
    which conflicts with suseconnect-ng.

commit 081b0cb340d254b789e07a5eda9b95da26b36ef2
Author:     Fergal Mc Carthy <fmccarthy@suse.com>
AuthorDate: Mon Feb 5 15:59:11 2024 -0500
Commit:     Fergal Mc Carthy <fmccarthy@suse.com>
CommitDate: Mon Feb 5 15:59:11 2024 -0500

    Bump version: 2.0.37 → 2.0.38

commit 8eeedfb26c146baa371c5845ae3e94b6c44f89a5
Author:     Fergal Mc Carthy <fmccarthy@suse.com>
AuthorDate: Fri Jan 26 17:07:11 2024 -0500
Commit:     Fergal Mc Carthy <fmccarthy@suse.com>
CommitDate: Fri Feb 2 15:43:34 2024 -0500

    Bind mount the configured certs location bsc#1219004
    
    When the migration is running ensure that the correct certs directory
    is bind mounted from the /system-root into the ISO boot's runtime
    environment, by retrieving the configured server.certlocation setting
    from the /system-root/etc/regionserverclnt.cfg file. Default to the
    new cert location if a cert location cannot be determined.
    
    Log a message when no certs are present in the cert location, checking
    in the system being migrated, and after the bind mount of that path
    into the ISO runtime environment.
    
    Add unit tests for new get_regionsrv_certs_path() function and tweak
    some existing tests, that depend upon mocking calls to builtin.open(),
    so that they mock any calls to get_regionsrv_certs_path() so as to
    avoid triggering additional open() calls that would break those tests.

commit 036bae1a92be1bed5c6e765a472e0c38d756f3ca
Author:     Fergal Mc Carthy <fmccarthy@suse.com>
AuthorDate: Thu Feb 1 10:59:56 2024 -0500
Commit:     Fergal Mc Carthy <fmccarthy@suse.com>
CommitDate: Thu Feb 1 10:59:56 2024 -0500

    Address nose tests deprecation issues
    
    The Python 3.8 CI testing is failing with an error because we haven't
    addressed the nose tests support deprecation by renaming the setup()
    method to setup_method().

commit c2f12419e8d43c7b145f159847e703112bf81e56
Author:     jmoffitt <jeremy.moffitt@suse.com>
AuthorDate: Mon Oct 2 13:37:34 2023 -0700
Commit:     jmoffitt <jeremy.moffitt@suse.com>
CommitDate: Mon Oct 2 13:37:34 2023 -0700

    Remove target information that was confusing customers. Clarify SP4 support timeline

commit 7abe99dbc9070559e0c3f4e058e01f053793243f
Author:     Marcus Schäfer <marcus.schaefer@gmail.com>
AuthorDate: Tue Aug 8 12:09:08 2023 +0200
Commit:     Marcus Schäfer <marcus.schaefer@gmail.com>
CommitDate: Tue Aug 8 12:15:26 2023 +0200

    Added mailmap
    
    Don't lose contributions of the past ;)

commit 6dec3e5cf87f9ce32bb5a6ff80938e444ddf1f6b
Author:     KeithMnemonic <kberger@suse.com>
AuthorDate: Thu Jul 27 09:34:57 2023 -0400
Commit:     KeithMnemonic <kberger@suse.com>
CommitDate: Thu Jul 27 09:34:57 2023 -0400

    Update kiwi config files to match current build versions

commit 0a3d48e5009576654ac93f664e2563812eed211a
Author:     jmoffitt <jeremy.moffitt@suse.com>
AuthorDate: Mon Jul 24 11:38:58 2023 -0700
Commit:     jmoffitt <jeremy.moffitt@suse.com>
CommitDate: Mon Jul 24 11:38:58 2023 -0700

    Clarify supported versions of SLES

commit bac4e06bad809199651d6838ee56f8263c4ebb3c
Author:     Frank Sundermeyer <fs@suse.de>
AuthorDate: Tue Jul 18 17:43:11 2023 +0200
Commit:     Frank Sundermeyer <fs@suse.de>
CommitDate: Tue Jul 18 17:43:11 2023 +0200

    Added block marker to listings to increase readability

commit 8c0950b3d0ea1f82c98385953b88e87226b24666
Author:     Frank Sundermeyer <fs@suse.de>
AuthorDate: Tue Jul 18 17:33:34 2023 +0200
Commit:     Frank Sundermeyer <fs@suse.de>
CommitDate: Tue Jul 18 17:33:34 2023 +0200

    Fixing variablelists that caused validation errors

commit a985c62c0ec42c6c86b714f17044a61914658299
Author:     jmoffitt <jeremy.moffitt@suse.com>
AuthorDate: Tue Jul 11 13:24:42 2023 -0700
Commit:     jmoffitt <jeremy.moffitt@suse.com>
CommitDate: Wed Jul 12 15:20:31 2023 -0700

    Doc updates to install, migration, and after migration sections

commit 189026b19ee057d0c6c1c4e131baa5ca4f167004
Author:     KeithMnemonic <kberger@suse.com>
AuthorDate: Mon Jul 10 11:09:44 2023 -0400
Commit:     KeithMnemonic <kberger@suse.com>
CommitDate: Mon Jul 10 11:24:44 2023 -0400

    update spec file

commit 080e49310707578ca77476f1f8cc89b3a6bf68a1
Author:     KeithMnemonic <kberger@suse.com>
AuthorDate: Mon Jul 10 08:17:59 2023 -0400
Commit:     KeithMnemonic <kberger@suse.com>
CommitDate: Mon Jul 10 08:17:59 2023 -0400

    update spec file

commit cac1e7f84429b6b5de4aef381dd736e2c631e36b
Author:     KeithMnemonic <kberger@suse.com>
AuthorDate: Fri Mar 31 16:42:02 2023 -0400
Commit:     KeithMnemonic <kberger@suse.com>
CommitDate: Fri Jul 7 16:17:14 2023 -0400

    cache file location debug added
    add update_bootloader to address bsc#1211240
    
    Bump version: 2.0.36 → 2.0.37

commit ad1e296b58d32f4f12e81779bf1df5ce1ffa3e3e
Author:     jmoffitt <jeremy.moffitt@suse.com>
AuthorDate: Thu Jun 8 12:43:12 2023 -0700
Commit:     jmoffitt <jeremy.moffitt@suse.com>
CommitDate: Thu Jun 8 12:43:12 2023 -0700

    Add clarifying text for partition requirements

commit 83b0828447742afaa495b22dc01d0fb4afb8a826
Author:     Tom Schraitle <tom_schr@web.de>
AuthorDate: Thu Jun 1 16:06:14 2023 +0200
Commit:     Tom Schraitle <tom_schr@web.de>
CommitDate: Thu Jun 1 16:06:14 2023 +0200

    Use latest SUSE stylesheet (2022 layout)

commit 35b01485359d2a9191885e6a844affab6ac3e500
Author:     Tom Schraitle <tom_schr@web.de>
AuthorDate: Thu Jun 1 15:55:25 2023 +0200
Commit:     Tom Schraitle <tom_schr@web.de>
CommitDate: Thu Jun 1 15:56:04 2023 +0200

    Add missing metadata for docs.suse.com
    
    The Docmanager tags are used for the "Edit source" and
    "Report bug" links.
    This change adds the latter.

commit 4d9cf281e49058fc535eede0f98ee49c38cdb220
Author:     KeithMnemonic <kberger@suse.com>
AuthorDate: Wed Mar 22 12:41:30 2023 -0400
Commit:     KeithMnemonic <kberger@suse.com>
CommitDate: Thu Mar 23 09:15:49 2023 -0400

    Add fixes to make updatesmtcache work correctly bsc#1209591

commit 0adec944b11c7ce58a6d522c3cc2bd8c7d8f30a4
Author:     KeithMnemonic <kberger@suse.com>
AuthorDate: Wed Mar 15 14:43:22 2023 -0400
Commit:     KeithMnemonic <kberger@suse.com>
CommitDate: Wed Mar 15 15:37:16 2023 -0400

    Add option to skip bind mount entries in fstab bsc#1209304
    
    Bump version: 2.0.35 → 2.0.36

commit 5a8a68ad3ccfcb051a4815d5bfa8a3a5d8c034eb
Author:     KeithMnemonic <kberger@suse.com>
AuthorDate: Thu Dec 8 17:09:29 2022 -0500
Commit:     KeithMnemonic <kberger@suse.com>
CommitDate: Tue Jan 3 10:00:31 2023 -0500

    Use bind mount when needed, to ensure the resolv.conf in the root_path contains proper settings bsc#1206194
    
    Bump version: 2.0.34 → 2.0.35
    
    Fix kernel check when there is no entry for 'multiversion =' bsc#1206701

commit 02455af48806f7ef7820d65580303e86e3caea8e
Author:     KeithMnemonic <kberger@suse.com>
AuthorDate: Thu Dec 8 17:09:29 2022 -0500
Commit:     KeithMnemonic <kberger@suse.com>
CommitDate: Tue Dec 13 16:25:48 2022 -0500

    Use bind mount when needed, to ensure the resolv.conf in the root_path contains proper settings bsc#1206194
    Fix kernel check when there is no entry for 'multiversion =' bsc#1206701
    
    Bump version: 2.0.34 → 2.0.35

commit c6073b79960fe5c45619cc1725405c134afb285b
Author:     KeithMnemonic <kberger@suse.com>
AuthorDate: Thu Aug 25 10:14:17 2022 -0400
Commit:     KeithMnemonic <kberger@suse.com>
CommitDate: Fri Aug 26 10:11:36 2022 -0400

    Bump version: 2.0.33 → 2.0.34

commit 5db2b70aa117dab585177a5ece51e738db016e2a
Author:     KeithMnemonic <kberger@suse.com>
AuthorDate: Wed Aug 24 17:29:25 2022 -0400
Commit:     KeithMnemonic <kberger@suse.com>
CommitDate: Thu Aug 25 10:04:50 2022 -0400

    add check for smt cache files

commit 9d47ff7607a9603aaddd13e9291ad8a90d040d02
Author:     kberger65 <kberger@suse.com>
AuthorDate: Wed Jun 1 10:20:23 2022 -0400
Commit:     kberger65 <kberger@suse.com>
CommitDate: Wed Jun 15 08:28:46 2022 -0400

    Update document version and authors

commit 11c211726d20ace1e2522615e560a61d69602bf6
Author:     kberger65 <kberger@suse.com>
AuthorDate: Wed May 25 18:06:48 2022 -0400
Commit:     kberger65 <kberger@suse.com>
CommitDate: Fri May 27 15:09:01 2022 -0400

    Enable prechecks as a systemd process

commit c19fc597f957c60480890579ab53930794bb85cc
Author:     Keith Berger <keith.berger@suse.com>
AuthorDate: Mon Apr 25 21:13:13 2022 -0400
Commit:     kberger65 <kberger@suse.com>
CommitDate: Wed May 25 15:35:53 2022 -0400

    Update pre_checks_test.py

commit 9c9312aab91a8c3ace6cb56aeed458a27e76146f
Author:     kberger65 <kberger@suse.com>
AuthorDate: Fri Apr 29 10:35:21 2022 -0400
Commit:     kberger65 <kberger@suse.com>
CommitDate: Tue May 24 17:37:27 2022 -0400

    Add an EnvironmentFile to suse-migration-prepare.service bsc#1199028
    
    Bump version: 2.0.32 → 2.0.33

commit d2906fa892f35e7364a34c205948f47021fa85ea
Author:     Keith Berger <keith.berger@suse.com>
AuthorDate: Mon Apr 25 21:12:51 2022 -0400
Commit:     GitHub <noreply@github.com>
CommitDate: Mon Apr 25 21:12:51 2022 -0400

    Update pre_checks.py

commit b79ca1abd8095f6e0128d658a0ad6ef5f0bced60
Author:     Keith Berger <keith.berger@suse.com>
AuthorDate: Mon Apr 25 21:12:32 2022 -0400
Commit:     GitHub <noreply@github.com>
CommitDate: Mon Apr 25 21:12:32 2022 -0400

    Update kernels.py

commit 53b893dc4aae67e82c270b7736488f4509cbb96e
Author:     kberger65 <kberger@suse.com>
AuthorDate: Mon Apr 18 11:51:50 2022 -0400
Commit:     kberger65 <kberger@suse.com>
CommitDate: Mon Apr 25 20:50:14 2022 -0400

    Add fix option to pre-checks

commit e703174cc143302ba0ec9cdbb63c506fcfcb5f8b
Author:     kberger65 <kberger@suse.com>
AuthorDate: Tue Apr 12 17:01:25 2022 -0400
Commit:     kberger65 <kberger@suse.com>
CommitDate: Mon Apr 25 09:12:20 2022 -0400

    Add multiversion kernel checks to pre-checks

commit cd48f8036171160bdab121b11318b9800435a998
Author:     kberger65 <kberger@suse.com>
AuthorDate: Mon Apr 18 11:09:21 2022 -0400
Commit:     kberger65 <kberger@suse.com>
CommitDate: Wed Apr 20 09:57:40 2022 -0400

    Add an unsupported caveat for hpc

commit bc2737c52c772b189434ddaede4a5c9020d22cc7
Author:     kberger65 <kberger@suse.com>
AuthorDate: Tue Apr 12 17:01:25 2022 -0400
Commit:     kberger65 <kberger@suse.com>
CommitDate: Mon Apr 18 11:54:09 2022 -0400

    Add multiversion kernel checks to pre-checks

commit 3fc910a519c167cd5aefeb3fda632e181b89a235
Author:     kberger65 <kberger@suse.com>
AuthorDate: Mon Apr 18 11:18:31 2022 -0400
Commit:     kberger65 <kberger@suse.com>
CommitDate: Mon Apr 18 11:18:31 2022 -0400

    Remove --no-kernel from host independant initrd

commit ab619371737a580330db22296024303faa0df49b
Author:     kberger65 <kberger@suse.com>
AuthorDate: Fri Apr 1 12:24:26 2022 -0400
Commit:     kberger65 <kberger@suse.com>
CommitDate: Mon Apr 11 16:53:30 2022 -0400

    Enable prechecks for SLES15-Migration

commit e864d8d90f33b13cedc5392ada4a5a2cc46d3856
Author:     kberger65 <kberger@suse.com>
AuthorDate: Fri Feb 18 11:15:10 2022 -0500
Commit:     kberger65 <kberger@suse.com>
CommitDate: Mon Apr 11 10:36:59 2022 -0400

    Add an option to create a 'fat' initrd
    
    This change adds a new systemd service, regenerate-initrd that is
    responsible for running the dracut command when the config setting
    'build_host_independent_initrd' is enabled.
    
    This service is configured to run before the kernel-load service
    and allows a new initrd to be created after the migration is complete
    and before the final system reboot is performed.

commit e7bf111c9dce70206020be3b719fe6f414fea2a1
Author:     Jesus Bermudez Velazquez <jesus.bv@suse.com>
AuthorDate: Mon Mar 7 16:40:23 2022 +0000
Commit:     Jesus Bermudez Velazquez <jesus.bv@suse.com>
CommitDate: Mon Mar 7 16:40:23 2022 +0000

    Add fix for setup in tests

commit 79f8fff1ff8d1805820093af2db21c9b9bff6f12
Author:     Jesus Bermudez Velazquez <jesus.bv@suse.com>
AuthorDate: Mon Mar 7 16:36:00 2022 +0000
Commit:     Jesus Bermudez Velazquez <jesus.bv@suse.com>
CommitDate: Mon Mar 7 16:36:00 2022 +0000

    Change verbosity for verbose
    
    - Update:
      - doc
      - schema
      - reading config file
      - tests

commit 0ef378c9314c677e3ad1ee3bdd914c3eb0553ea5
Author:     kberger65 <kberger@suse.com>
AuthorDate: Mon Feb 28 12:44:46 2022 -0500
Commit:     kberger65 <kberger@suse.com>
CommitDate: Fri Mar 4 09:16:20 2022 -0500

    Add more details around migration_proudct

commit f45b9d9c825e4c1f5a1c1cb9a19e2fc2f7c754a5
Author:     kberger65 <kberger@suse.com>
AuthorDate: Wed Feb 9 08:49:16 2022 -0500
Commit:     kberger65 <kberger@suse.com>
CommitDate: Wed Feb 9 08:53:22 2022 -0500

    Fix pytest 7 compatibility

commit a7df9aa61ddd8361db277b97fbe49478c1d632de
Author:     Jesus Bermudez Velazquez <jesus.bv@suse.com>
AuthorDate: Tue Jan 25 10:36:26 2022 +0000
Commit:     Jesus Bermudez Velazquez <jesus.bv@suse.com>
CommitDate: Tue Jan 25 10:36:26 2022 +0000

    Mock lsblk call
    
    - Mocks the command call for tests that run in
      an environment with no partitions or
      partitions have not been defined

commit f91bc029673569956ee72448a7402909e68e3ff2
Author:     Jesus Bermudez Velazquez <jesus.bv@suse.com>
AuthorDate: Mon Dec 13 12:46:06 2021 +0000
Commit:     Jesus Bermudez Velazquez <jesus.bv@suse.com>
CommitDate: Mon Dec 13 12:46:28 2021 +0000

    Add zypper migration plugin verbosity
    
    Run the zypper migration plugin with verbosity option
    for debuggin purposes
    
    This Fixes #230 and bsc#1191634

commit b15c2623b1a0a0cc888c842151e35470faf77225
Author:     Jesus Bermudez Velazquez <jesus.bv@suse.com>
AuthorDate: Tue Nov 30 12:01:45 2021 +0000
Commit:     Jesus Bermudez Velazquez <jesus.bv@suse.com>
CommitDate: Tue Nov 30 12:01:45 2021 +0000

    Add migration_product to documentation
    
    This Fixes #229

commit 5514189d8760e95bc303399e6fbeab5aca230a93
Author:     Jesus Bermudez Velazquez <jesus.bv@suse.com>
AuthorDate: Mon Nov 29 15:37:08 2021 +0000
Commit:     Jesus Bermudez Velazquez <jesus.bv@suse.com>
CommitDate: Mon Nov 29 15:37:08 2021 +0000

    Show config file content in the migration log
    
    This Fixes #228

commit 6475c0ebab7e06c41553c83aafa7f6ede06f6f34
Author:     Marcus Schäfer <marcus.schaefer@gmail.com>
AuthorDate: Wed Oct 6 11:55:47 2021 +0200
Commit:     Marcus Schäfer <marcus.schaefer@gmail.com>
CommitDate: Wed Oct 6 11:55:47 2021 +0200

    Bump version: 2.0.31 → 2.0.32

commit 01b792839504a28bd4d20adb736fe51259d568b3
Author:     Jesus Bermudez Velazquez <jesus.bv@suse.com>
AuthorDate: Tue Oct 5 11:55:31 2021 +0100
Commit:     Jesus Bermudez Velazquez <jesus.bv@suse.com>
CommitDate: Tue Oct 5 11:55:31 2021 +0100

    Add test for fstab with no options

commit 8fe71462f9d3c8b581ea944a8b39e8b2f59e4778
Author:     Robert Schweikert <rjschwei@suse.com>
AuthorDate: Thu Sep 30 13:25:10 2021 -0400
Commit:     Robert Schweikert <rjschwei@suse.com>
CommitDate: Thu Sep 30 13:25:10 2021 -0400

    - Handle fstab entries that have no fs options specified

commit fd8e572ee7019b8cd7f946466361ea6f360bb65a
Author:     Jesus Bermudez Velazquez <jesus.bv@suse.com>
AuthorDate: Fri Sep 17 09:37:28 2021 +0100
Commit:     Jesus Bermudez Velazquez <jesus.bv@suse.com>
CommitDate: Fri Sep 17 09:37:28 2021 +0100

    Add blank line to fix checks

commit f0b9bba0d6a3b4af765eb69cc928f0eb7bdb19ff
Author:     Jesus Bermudez Velazquez <jesus.bv@suse.com>
AuthorDate: Thu Sep 16 10:06:56 2021 +0100
Commit:     Jesus Bermudez Velazquez <jesus.bv@suse.com>
CommitDate: Thu Sep 16 10:06:56 2021 +0100

    Regroup migrate test

commit ac21ee3aa7e9dd5fe77ff54bcddddfc042a94c66
Author:     Jesus Bermudez Velazquez <jesus.bv@suse.com>
AuthorDate: Thu Sep 16 09:57:45 2021 +0100
Commit:     Jesus Bermudez Velazquez <jesus.bv@suse.com>
CommitDate: Thu Sep 16 09:57:45 2021 +0100

    Regroup path test

commit 715869da7ca90090c11ddc23f5f3d10cc227bfdb
Author:     Jesus Bermudez Velazquez <jesus.bv@suse.com>
AuthorDate: Thu Sep 16 09:55:08 2021 +0100
Commit:     Jesus Bermudez Velazquez <jesus.bv@suse.com>
CommitDate: Thu Sep 16 09:55:08 2021 +0100

    Regroup mount system test

commit 44db92ca7bc85b8ec8319207cab4af139b9e637d
Author:     Jesus Bermudez Velazquez <jesus.bv@suse.com>
AuthorDate: Thu Sep 16 09:51:17 2021 +0100
Commit:     Jesus Bermudez Velazquez <jesus.bv@suse.com>
CommitDate: Thu Sep 16 09:51:17 2021 +0100

    Regroup product setup test

commit 6fa8651b54042a9dbedd0e1fe7e92f74ae8dda07
Author:     Jesus Bermudez Velazquez <jesus.bv@suse.com>
AuthorDate: Thu Sep 16 09:48:56 2021 +0100
Commit:     Jesus Bermudez Velazquez <jesus.bv@suse.com>
CommitDate: Thu Sep 16 09:48:56 2021 +0100

    Regroup grub setup test

commit c9e8fdb252187adba84413f5e5fe9e83969671d1
Author:     Jesus Bermudez Velazquez <jesus.bv@suse.com>
AuthorDate: Thu Sep 16 09:47:55 2021 +0100
Commit:     Jesus Bermudez Velazquez <jesus.bv@suse.com>
CommitDate: Thu Sep 16 09:47:55 2021 +0100

    Regroup kernel load

commit 0a2890d6342a6f7558e8ef926dabf1bc000abc9d
Author:     Jesus Bermudez Velazquez <jesus.bv@suse.com>
AuthorDate: Thu Sep 16 09:41:24 2021 +0100
Commit:     Jesus Bermudez Velazquez <jesus.bv@suse.com>
CommitDate: Thu Sep 16 09:41:24 2021 +0100

    Regroup prepare test

commit 9a8d4a35286bcbf15c602585250b94b83681788c
Author:     Jesus Bermudez Velazquez <jesus.bv@suse.com>
AuthorDate: Thu Sep 16 09:27:07 2021 +0100
Commit:     Jesus Bermudez Velazquez <jesus.bv@suse.com>
CommitDate: Thu Sep 16 09:27:07 2021 +0100

    Regroup ssh keys test

commit 0aece12027aede46f2e4209385e4c9e719c1c735
Author:     Jesus Bermudez Velazquez <jesus.bv@suse.com>
AuthorDate: Thu Sep 16 09:23:53 2021 +0100
Commit:     Jesus Bermudez Velazquez <jesus.bv@suse.com>
CommitDate: Thu Sep 16 09:23:53 2021 +0100

    Regroup reboot test

commit cdaf9ccf125f7be93ad7de185706b483eafe2e59
Author:     Jesus Bermudez Velazquez <jesus.bv@suse.com>
AuthorDate: Thu Sep 16 09:19:37 2021 +0100
Commit:     Jesus Bermudez Velazquez <jesus.bv@suse.com>
CommitDate: Thu Sep 16 09:19:37 2021 +0100

    Regroup command test

commit 586d5eaf619ab2a5bb5d4fac2d2f28f95a6166a3
Author:     Jesus Bermudez Velazquez <jesus.bv@suse.com>
AuthorDate: Wed Sep 15 11:13:22 2021 +0100
Commit:     Jesus Bermudez Velazquez <jesus.bv@suse.com>
CommitDate: Wed Sep 15 11:13:22 2021 +0100

    Regroup logger test

commit b1d57ce70212de8c477d5f9ce0b280f572e67c29
Author:     Jesus Bermudez Velazquez <jesus.bv@suse.com>
AuthorDate: Wed Sep 15 11:10:38 2021 +0100
Commit:     Jesus Bermudez Velazquez <jesus.bv@suse.com>
CommitDate: Wed Sep 15 11:10:38 2021 +0100

    Regroup pre checks test

commit 0e1a3f7d14f0c2108bf4d1017dc35117d563f7aa
Author:     Jesus Bermudez Velazquez <jesus.bv@suse.com>
AuthorDate: Wed Sep 15 11:05:21 2021 +0100
Commit:     Jesus Bermudez Velazquez <jesus.bv@suse.com>
CommitDate: Wed Sep 15 11:05:21 2021 +0100

    Regroup SUSEProduct test

commit b96287c8fd3473844ee1624f3bfec3dba15f4636
Author:     Jesus Bermudez Velazquez <jesus.bv@suse.com>
AuthorDate: Wed Sep 15 10:52:51 2021 +0100
Commit:     Jesus Bermudez Velazquez <jesus.bv@suse.com>
CommitDate: Wed Sep 15 10:52:51 2021 +0100

    Regroup SUSEConnect test

commit ba4743a561bda811fa7a68f1d3a2ae5e1b6f1883
Author:     Jesus Bermudez Velazquez <jesus.bv@suse.com>
AuthorDate: Wed Sep 15 10:51:32 2021 +0100
Commit:     Jesus Bermudez Velazquez <jesus.bv@suse.com>
CommitDate: Wed Sep 15 10:51:32 2021 +0100

    Refactor reboot tests

commit ceb844175c71736423184ffc31528737f4c2d42d
Author:     Marcus Schäfer <marcus.schaefer@gmail.com>
AuthorDate: Fri Aug 27 12:38:20 2021 +0200
Commit:     Marcus Schäfer <marcus.schaefer@gmail.com>
CommitDate: Fri Aug 27 12:38:20 2021 +0200

    Bump version: 2.0.30 → 2.0.31

commit e41026c16109f52bca6dc2cf1221428554d6e7e4
Author:     Robert Schweikert <rjschwei@suse.com>
AuthorDate: Fri Aug 27 06:23:04 2021 -0400
Commit:     GitHub <noreply@github.com>
CommitDate: Fri Aug 27 12:23:04 2021 +0200

    Remove SMT references (#223)
    
    SMT is no longer supported by SUSE and users are encouraged to migrate
    to RMT. We want users to use RMT servers, or SCC as targets for receiving
    system updates. Also improve requirements description and make the requirements
    for the repository server more explicit w.r.t. availability of the proper channels.

commit 48347d5e8da38700ece47fda41f108d66dcbec76
Author:     Jesus Bermudez Velazquez <jesus.bv@suse.com>
AuthorDate: Wed Aug 25 12:10:21 2021 +0100
Commit:     Jesus Bermudez Velazquez <jesus.bv@suse.com>
CommitDate: Wed Aug 25 12:10:21 2021 +0100

    Add comment for lower case and reflect that on test

commit f06eeca2e2c9de415bc1ac77d240d481adfb11ca
Author:     Jesus Bermudez Velazquez <jesus.bv@suse.com>
AuthorDate: Fri Aug 13 13:35:47 2021 +0100
Commit:     Jesus Bermudez Velazquez <jesus.bv@suse.com>
CommitDate: Thu Aug 19 12:10:08 2021 +0100

    Update env and log it
    
    - In case of preserving the proxy file
      add those settings to the environment
      before starting the migration
    
    - Log environment variables, this information
      is helpful if a proxy is set (see bsc#1188594)

commit ccf5740d553007c8f2114a3d74e90da548fe6acd
Author:     Jesus Bermudez Velazquez <jesus.bv@suse.com>
AuthorDate: Thu Aug 12 19:02:35 2021 +0100
Commit:     Jesus Bermudez Velazquez <jesus.bv@suse.com>
CommitDate: Thu Aug 12 19:02:35 2021 +0100

    Remove no-cd option from zypper-migration command

commit 586315027dcfea608fd038ba77d530c4497388b6
Author:     Marcus Schäfer <marcus.schaefer@gmail.com>
AuthorDate: Wed Aug 11 17:48:31 2021 +0200
Commit:     Marcus Schäfer <marcus.schaefer@gmail.com>
CommitDate: Wed Aug 11 17:48:31 2021 +0200

    Bump version: 2.0.29 → 2.0.30

commit df720cd10808aa1565ddaf0cf32094651d11da7b
Author:     Jesús Bermúdez Velázquez <jesus.bv@suse.com>
AuthorDate: Wed Aug 11 16:47:50 2021 +0100
Commit:     GitHub <noreply@github.com>
CommitDate: Wed Aug 11 17:47:50 2021 +0200

    Add valid remote repo prefix (#220)
    
    Add valid remote repo prefix
    
    Add plugin:/susecloud prefix for repositories checking
    Remove extra Logger definitions to avoid duplicate entries

commit 3c1496a8a656abf90dc4b29c891817b5b8092c4c
Author:     Marcus Schäfer <marcus.schaefer@gmail.com>
AuthorDate: Mon Aug 9 16:56:18 2021 +0200
Commit:     Marcus Schäfer <marcus.schaefer@gmail.com>
CommitDate: Mon Aug 9 16:56:18 2021 +0200

    Bump version: 2.0.28 → 2.0.29

commit 1587b68ffafb26a0369563a4ea7c7294a586e161
Author:     Jesus Bermudez Velazquez <jesus.bv@suse.com>
AuthorDate: Mon Aug 9 00:44:06 2021 +0100
Commit:     Jesus Bermudez Velazquez <jesus.bv@suse.com>
CommitDate: Mon Aug 9 00:44:06 2021 +0100

    Set --no-cd option in the right place

commit 86319131b79618bf42955ec1e0bb12a6ccc850c4
Author:     Marcus Schäfer <marcus.schaefer@gmail.com>
AuthorDate: Fri Aug 6 09:54:59 2021 +0200
Commit:     Marcus Schäfer <marcus.schaefer@gmail.com>
CommitDate: Fri Aug 6 09:54:59 2021 +0200

    Bump version: 2.0.27 → 2.0.28

commit c391ac4eb41ba3967250060b6c201497e0f2c799
Author:     Jesus Bermudez Velazquez <jesus.bv@suse.com>
AuthorDate: Wed Jul 28 11:39:56 2021 +0100
Commit:     Jesus Bermudez Velazquez <jesus.bv@suse.com>
CommitDate: Wed Jul 28 11:54:00 2021 +0100

    Edit message for pre checks repos
    
    - Add a more informative message if
      problematic repos are found
    
    This Fixes #214

commit 6aae7a17d955e9779cf2f881557d5c122a38deb5
Author:     Jesus Bermudez Velazquez <jesus.bv@suse.com>
AuthorDate: Wed Jul 28 11:51:12 2021 +0100
Commit:     Jesus Bermudez Velazquez <jesus.bv@suse.com>
CommitDate: Wed Jul 28 11:51:12 2021 +0100

    Make zypper ignore CD/DVDs repositories

commit ffd46046e278fef778d953b1939708fd7264f5e4
Author:     Jesus Bermudez Velazquez <jesus.bv@suse.com>
AuthorDate: Wed Jul 28 10:42:47 2021 +0100
Commit:     Jesus Bermudez Velazquez <jesus.bv@suse.com>
CommitDate: Wed Jul 28 10:51:00 2021 +0100

    Add line breaks for remote repos
    
    - Remote repos message in pre checks, potentially,
      will produce long lines. Add line breaks for better
      readability
    
    This Fixes #215

commit 9829a321f1f5ab5551a21b31b570cec028896c90
Author:     Marcus Schäfer <marcus.schaefer@gmail.com>
AuthorDate: Fri Jul 23 09:49:43 2021 +0200
Commit:     Marcus Schäfer <marcus.schaefer@gmail.com>
CommitDate: Fri Jul 23 09:49:43 2021 +0200

    Bump version: 2.0.26 → 2.0.27

commit bbaa0d05a221630654c4e04e8fe8e145af1b0edf
Author:     Stefan Knorr <sknorr@suse.de>
AuthorDate: Wed Jul 21 20:36:31 2021 +0200
Commit:     Stefan Knorr <sknorr@suse.de>
CommitDate: Wed Jul 21 21:53:16 2021 +0200

    doc: Fix a typo + try to sound more active: "we recommend ..."

commit 41cc46f88c2063e7b1f7745e68a7696f05af2211
Author:     Stefan Knorr <sknorr@suse.de>
AuthorDate: Wed Jul 21 20:36:16 2021 +0200
Commit:     Stefan Knorr <sknorr@suse.de>
CommitDate: Wed Jul 21 21:53:16 2021 +0200

    doc/DC: Update to suse2021 stylesheets

commit c1e25ba029bec63c063cc4c9ac3308287ae460f9
Author:     Marcus Schäfer <marcus.schaefer@gmail.com>
AuthorDate: Wed Jul 21 10:00:58 2021 +0200
Commit:     Marcus Schäfer <marcus.schaefer@gmail.com>
CommitDate: Wed Jul 21 10:00:58 2021 +0200

    Use download-in-advance mode for zypper dup
    
    If the DMS was configured to use 'zypper dup' we should
    download packages in advance for more stability. The reason
    is that zypper dup always starts with deleting packages and
    then continues with installing packages. If at install time
    a package cannot be downloaded for some reason the zypper
    process ends and leaves the system in an inconsistent state

commit 4651b0272c13c3a54f132cfca7c30aae39c70576
Author:     Marcus Schäfer <marcus.schaefer@gmail.com>
AuthorDate: Thu Jun 10 11:04:39 2021 +0200
Commit:     Marcus Schäfer <marcus.schaefer@gmail.com>
CommitDate: Thu Jun 10 11:04:39 2021 +0200

    Bump version: 2.0.25 → 2.0.26

commit 9d839728979f7cb7231e6c249c1ac27f5fef5a63
Author:     Marcus Schäfer <marcus.schaefer@gmail.com>
AuthorDate: Thu Jun 10 10:19:31 2021 +0200
Commit:     Marcus Schäfer <marcus.schaefer@gmail.com>
CommitDate: Thu Jun 10 10:26:31 2021 +0200

    Fixed suse-migration-services package build
    
    The migration services package must not contain the pre-checks
    which are only relevant in the activation package

commit 2cc14d430b1734ae95d5f9304c53f870c132fc96
Author:     Marcus Schäfer <marcus.schaefer@gmail.com>
AuthorDate: Thu Jun 10 10:11:03 2021 +0200
Commit:     Marcus Schäfer <marcus.schaefer@gmail.com>
CommitDate: Thu Jun 10 10:11:03 2021 +0200

    Setup package conflicts properly
    
    migration services and migration activation conflicts.
    The activation is installed on the host to migrate, the
    services are installed in the live migration image. There
    is no situation in which migration services and activation
    is installed on the same host. As both packages are build
    from the same python sources they have to conflict

commit c4769620c5ecdbb6e464977eadda3fea423f567f
Author:     Marcus Schäfer <marcus.schaefer@gmail.com>
AuthorDate: Wed Jun 9 18:38:01 2021 +0200
Commit:     Marcus Schäfer <marcus.schaefer@gmail.com>
CommitDate: Wed Jun 9 19:11:39 2021 +0200

    Fixed migration services package build
    
    Several issues fixed in this commit:
    
    * Moving the sed original file over the changed one prior
      calling sdist invalidates the actual change
    
    * Fixed spec template for the activation
      The package builds a python and a grub.d app. Thus the
      instructions in the spec file to install from the two
      places needs to be adapted. In addition the %post section
      now runs a binary which is called in the process of creating
      an rpm in the checks processing. Thus all python requirements
      must be in BuildRequires
    
    * Make sure prechecks are grafted in MANIFEST

commit f3f7cc71e49b9c8efceff4823cc3db89ee92786b
Author:     Marcus Schäfer <marcus.schaefer@gmail.com>
AuthorDate: Wed Jun 9 18:20:42 2021 +0200
Commit:     Marcus Schäfer <marcus.schaefer@gmail.com>
CommitDate: Wed Jun 9 18:20:42 2021 +0200

    Bump version: 2.0.24 → 2.0.25

commit a97a1eb1e16124c68b48a3ff6eb1866dd81c3ba0
Author:     Jesus Bermudez Velazquez <jesus.bv@suse.com>
AuthorDate: Wed May 5 16:12:55 2021 +0100
Commit:     Jesus Bermudez Velazquez <jesus.bv@suse.com>
CommitDate: Wed Jun 9 17:14:44 2021 +0100

    Add pre checks
    
    This extends the activation package
    
    - Check no remote repositories
    - Check filesystem has LUKS encryption
    
    The checks are kept in their own files and run
    on the host, before rebooting.
    
    This Fixes #205

commit c0f3aff1c4289205a889aea1453a2d1bf1116a9c
Author:     Marcus Schäfer <marcus.schaefer@gmail.com>
AuthorDate: Wed May 5 09:34:22 2021 +0200
Commit:     Marcus Schäfer <marcus.schaefer@gmail.com>
CommitDate: Thu May 6 14:04:04 2021 +0200

    Update option settings in zypper dup mode
    
    When using the DMS in zypper dup mode the option
    settings --allow-downgrade and --no-confirm are handy.
    Even though I think with the global non-interactive
    option set it should not be required to set no-confirm
    in addition but the worst are questions being asked
    so better add it. With allow-downgrade set the ability
    to downgrade packages is given. With zypper dup the
    repo setup is user defined custom set and therefore
    downgrades should not be off the table

commit 77dc1ce1325bbc03364a18548a3b6911b1dfeddd
Author:     Marcus Schäfer <marcus.schaefer@gmail.com>
AuthorDate: Mon Apr 26 12:36:40 2021 +0200
Commit:     Marcus Schäfer <marcus.schaefer@gmail.com>
CommitDate: Mon Apr 26 12:36:40 2021 +0200

    Respect host kernel boot options for migration
    
    Follow up commit to add a reference to bsc#1182520

commit 5eaa2ed49a2e5e16f9f0893da813910b71a893cc
Author:     Marcus Schäfer <marcus.schaefer@gmail.com>
AuthorDate: Fri Apr 23 16:02:43 2021 +0200
Commit:     Marcus Schäfer <marcus.schaefer@gmail.com>
CommitDate: Fri Apr 23 16:02:43 2021 +0200

    Bump version: 2.0.23 → 2.0.24

commit c75ed0fa5443b483ddca5ba24fa1efd6aa933595
Author:     Marcus Schäfer <marcus.schaefer@gmail.com>
AuthorDate: Fri Apr 23 15:48:27 2021 +0200
Commit:     Marcus Schäfer <marcus.schaefer@gmail.com>
CommitDate: Fri Apr 23 15:48:27 2021 +0200

    Support symlinks for certificate files

commit 415ac5936798d2f957490b5975f641f64f396eb6
Author:     Marcus Schäfer <marcus.schaefer@gmail.com>
AuthorDate: Fri Apr 23 10:41:43 2021 +0200
Commit:     Marcus Schäfer <marcus.schaefer@gmail.com>
CommitDate: Fri Apr 23 10:41:43 2021 +0200

    Cracefully handle cert copy exceptions
    
    If the copy process of a certificate failed this should not
    cause the entire migration process to stop. This commit
    handles copy errors from the cert chain and turns them into
    a log message. If in the subsequent chain of tasks the
    migration failed because of missing certificates we will
    see that in the log and in the attempt to access the repos
    which is better than the python stacktrace on an unhandled
    FileNotFoundError exception. Retated to Issue #197

commit 78196098f63aea33ff47b529a92126dfabb490ca
Author:     Marcus Schäfer <marcus.schaefer@gmail.com>
AuthorDate: Thu Apr 22 10:41:10 2021 +0200
Commit:     Marcus Schäfer <marcus.schaefer@gmail.com>
CommitDate: Thu Apr 22 10:41:10 2021 +0200

    Bump version: 2.0.22 → 2.0.23

commit 71a09b064a51fda42a099e3fea23de416e161853
Author:     Marcus Schäfer <marcus.schaefer@gmail.com>
AuthorDate: Thu Apr 22 10:34:59 2021 +0200
Commit:     Marcus Schäfer <marcus.schaefer@gmail.com>
CommitDate: Thu Apr 22 10:34:59 2021 +0200

    Prevent use of shutil.copytree
    
    The versions of copytree comes with a different set of
    features depending on the used python interpreter. The
    former implementation used an option which did not exist
    on python in SLE15. To keep us safe from further surprises
    I moved back to the simple but stable shutil.copy method.
    We can come up with a refactoring PR when needed but not
    combined with the fix for the certificates as this was the
    original intention of the change

commit 44ede4120b71388855331f43fbe2c70c3727e8a5
Author:     Marcus Schäfer <marcus.schaefer@gmail.com>
AuthorDate: Wed Apr 21 17:25:48 2021 +0200
Commit:     Marcus Schäfer <marcus.schaefer@gmail.com>
CommitDate: Wed Apr 21 17:25:48 2021 +0200

    Bump version: 2.0.21 → 2.0.22

commit 6a7d8784fa92dd050ef1d1793f86bda2c7723e07
Author:     Marcus Schäfer <marcus.schaefer@gmail.com>
AuthorDate: Wed Apr 21 16:17:10 2021 +0200
Commit:     Marcus Schäfer <marcus.schaefer@gmail.com>
CommitDate: Wed Apr 21 17:22:30 2021 +0200

    Fixed import of certificates
    
    Certificates can exist on several places. This commit
    makes sure we lookup certificates at the following
    places:
    
    * /usr/share/pki/trust/anchors
    * /etc/pki/trust/anchors

commit 31725236b9999c5c352d29901f119b4a8efddc91
Author:     Marcus Schäfer <marcus.schaefer@gmail.com>
AuthorDate: Tue Apr 20 18:23:02 2021 +0200
Commit:     Marcus Schäfer <marcus.schaefer@gmail.com>
CommitDate: Tue Apr 20 18:23:02 2021 +0200

    Bump version: 2.0.20 → 2.0.21

commit 7c3d5087dfe8b805a95adc6498671eade7c74b44
Author:     Marcus Schäfer <marcus.schaefer@gmail.com>
AuthorDate: Tue Apr 20 17:40:42 2021 +0200
Commit:     Marcus Schäfer <marcus.schaefer@gmail.com>
CommitDate: Tue Apr 20 17:40:42 2021 +0200

    Fixed mount of root for detected disk
    
    The former implementation looped through a list of block
    devices, mounted them, looked for the fstab file, reads it
    and umounted the device again. In a next step we mounted
    all entries from that fstab file as listed. The problem
    with this approach is that the mount of the root device
    already happened and we did it again. As this is not needed
    it should also not create a problem. But it does create
    a problem in multipath environments. With the absence of
    the multipath setup in the live migration system only one
    of the multipath devices can be mounted. This device was
    found by our loop approach but is not necessarily the
    right choice when mounting the device as referenced from
    the fstab file without multipath running. Therefore this
    commit makes sure the root device is mounted only once
    and only through our best guess loop and not by the entry
    in the fstab file.

commit 7ea228bfafbe941b812cbc067b570bfbd43ee070
Author:     Marcus Schäfer <marcus.schaefer@gmail.com>
AuthorDate: Mon Apr 19 10:29:34 2021 +0200
Commit:     Marcus Schäfer <marcus.schaefer@gmail.com>
CommitDate: Mon Apr 19 10:29:34 2021 +0200

    Bump version: 2.0.19 → 2.0.20

commit ff90873e7c4fe108a8ad1a777bb25087d3389a27
Author:     Marcus Schäfer <marcus.schaefer@gmail.com>
AuthorDate: Fri Apr 16 11:12:08 2021 +0200
Commit:     Marcus Schäfer <marcus.schaefer@gmail.com>
CommitDate: Fri Apr 16 11:19:05 2021 +0200

    Respect host kernel boot options for migration
    
    The kernel boot options used on the host to migrate can be
    important for the migration live environment too. For example
    if net.ifnames is passed is influences the network interface
    names to become predictable. As the DMS inherits configuration
    data from the host e.g the network setup, it's required that
    also the kernel boot parameters matches.

commit 76a45ff23d652230380d71a9ba7b3cd423c78184
Author:     Marcus Schäfer <marcus.schaefer@gmail.com>
AuthorDate: Tue Apr 13 18:26:34 2021 +0200
Commit:     Marcus Schäfer <marcus.schaefer@gmail.com>
CommitDate: Tue Apr 13 18:26:34 2021 +0200

    Bump version: 2.0.18 → 2.0.19

commit 534686db945c246eefb38ff2055cf95464e29c12
Author:     Marcus Schäfer <marcus.schaefer@gmail.com>
AuthorDate: Mon Apr 12 16:50:25 2021 +0200
Commit:     Marcus Schäfer <marcus.schaefer@gmail.com>
CommitDate: Tue Apr 13 18:21:44 2021 +0200

    Added kernel-firmware to support bare metal better
    
    For the DMS to boot on bare metal system we should install
    the kernel-firmware package. If not present certain systems
    like HP with Mellanox driver fails to boot. This is related
    to bsc#1182520

commit 7dce6d47aee2bfd6cf5216e00bca49cae4cbaa6a
Author:     Marcus Schäfer <marcus.schaefer@gmail.com>
AuthorDate: Tue Apr 13 12:17:50 2021 +0200
Commit:     Marcus Schäfer <marcus.schaefer@gmail.com>
CommitDate: Tue Apr 13 12:17:50 2021 +0200

    Reference commit for SUSE maintenance
    
    This commit adds a reference to bsc#1184278
    Avoid multiple mount attempts

commit 753d3bdd6a1134db239c77d71227c0c675e60cba
Author:     Marcus Schäfer <marcus.schaefer@gmail.com>
AuthorDate: Mon Apr 12 14:43:55 2021 +0200
Commit:     Marcus Schäfer <marcus.schaefer@gmail.com>
CommitDate: Mon Apr 12 16:42:20 2021 +0200

    Fixed loopback root setting
    
    The root variable for the loopback search in grub was initialized
    with the assumption that the /usr/share/ location on the system is
    on the root partition. This assumption could be incorrect and the
    code should be smart enough to detect this situation.
    This Fixes #192

commit 3b97ee2bdf783539006c12fea496b656017f3032
Author:     Jesus Bermudez Velazquez <jesus.bv@suse.com>
AuthorDate: Mon Apr 12 13:34:26 2021 +0100
Commit:     Jesus Bermudez Velazquez <jesus.bv@suse.com>
CommitDate: Mon Apr 12 13:59:13 2021 +0100

    Use ismount
    
    - Change the command "mount -q $mountpoint"
      for Python method "os.path.ismount($mountpoint)"

commit ede4b5a2389bb9ab1f28c55f0f87e0e9cf3d0ecc
Author:     Jesus Bermudez Velazquez <jesus.bv@suse.com>
AuthorDate: Mon Apr 12 12:07:42 2021 +0100
Commit:     Jesus Bermudez Velazquez <jesus.bv@suse.com>
CommitDate: Mon Apr 12 12:19:29 2021 +0100

    Avoid multiple mount attempts
    
    - Fstab could contain one of the mount points
      DMS mount explicitly, ending up in an exception.
      To avoid this, DMS does not mount the explicit
      mount points if they are in fstab.
    
    This Fixes #191 and bcs#1184278

commit 47743be9b53da2138c2e5ae1df0a17dda8b11849
Author:     Marcus Schäfer <marcus.schaefer@gmail.com>
AuthorDate: Thu Mar 25 11:32:40 2021 +0100
Commit:     Marcus Schäfer <marcus.schaefer@gmail.com>
CommitDate: Thu Mar 25 11:32:40 2021 +0100

    Bump version: 2.0.17 → 2.0.18

commit a561421d696cefb929e895d429dbf46d26a1deb8
Author:     Marcus Schäfer <marcus.schaefer@gmail.com>
AuthorDate: Tue Mar 2 17:53:25 2021 +0100
Commit:     Marcus Schäfer <marcus.schaefer@gmail.com>
CommitDate: Tue Mar 2 17:54:42 2021 +0100

    Added sort by path order for fstab handling
    
    Don't trust the order of entries in the fstab to be correct.
    Instead add a canonical path order to the fstab entries
    when processed by the distribution migration system.
    This Fixes #188 and Fixes bsc#1182520

commit 11b3f400ffb94e77751a5fd53d4e043fdd797ee7
Author:     Marcus Schäfer <marcus.schaefer@gmail.com>
AuthorDate: Wed Feb 24 10:56:41 2021 +0100
Commit:     Marcus Schäfer <marcus.schaefer@gmail.com>
CommitDate: Wed Feb 24 10:56:41 2021 +0100

    Fixed umount inconsistency
    
    There is the mount-system service which mounts the system
    taking fstab into account. If it fails for some reason it
    also umounts all parts of the system. However in the sequence
    of the error condition there is also the grub-setup service
    which uninstalls the migration package and restores the
    grub config such that the subsequent boot process does no
    longer boot into the migration system. With the error
    condition from above the grub-setup service has no chance
    to perform its jobs because all of system-root has been
    umounted already. This commit makes sure that mount-service
    only registers the mount paths but does not umount them
    in case of a failure. This allows grub-setup to do its
    job and also allows the reboot service to umount registered
    devices prior reboot. This is related to bsc#1182520

commit 8eaec6d066df59c8a98646fdc7fa3232157924e5
Author:     Marcus Schäfer <marcus.schaefer@gmail.com>
AuthorDate: Mon Feb 22 12:09:26 2021 +0100
Commit:     Marcus Schäfer <marcus.schaefer@gmail.com>
CommitDate: Mon Feb 22 12:09:26 2021 +0100

    Bump version: 2.0.16 → 2.0.17

commit c201f99b163bbc5eaf8815789ae66c5f55600997
Author:     Jesus Bermudez Velazquez <jesus.bv@suse.com>
AuthorDate: Fri Feb 19 11:28:06 2021 +0000
Commit:     Jesus Bermudez Velazquez <jesus.bv@suse.com>
CommitDate: Fri Feb 19 14:21:41 2021 +0000

    Do not copy /etc/resolv.conf if empty
    
    This Fixes #185
    This references bsc#1182234

commit 648662ebed7e4828baa548b1ddc940e69853a9ae
Author:     Marcus Schäfer <marcus.schaefer@gmail.com>
AuthorDate: Thu Feb 18 11:45:14 2021 +0100
Commit:     Marcus Schäfer <marcus.schaefer@gmail.com>
CommitDate: Thu Feb 18 11:45:14 2021 +0100

    Fixed documentation header
    
    The information about author, version, date and source link
    was partially duplicated and also misplaced. This commit
    cleans it up

commit ffb018efdf4ca064ff2457b69fe1048093c7464b
Author:     Jesus Bermudez Velazquez <jesus.bv@suse.com>
AuthorDate: Fri Feb 5 11:06:35 2021 +0000
Commit:     Jesus Bermudez Velazquez <jesus.bv@suse.com>
CommitDate: Fri Feb 5 16:27:31 2021 +0000

    Avoid deprecation warning
    
    - Keep the flag whitelist_externals,
      which will be deprecated for allowlist_externals
      in the future versions, for compatibility reasons.
    - update whitelist externals to bash

commit f90591e7ad8fc1a7c35a1fb26c838f18feee96e9
Author:     Marcus Schäfer <marcus.schaefer@gmail.com>
AuthorDate: Fri Feb 5 11:51:34 2021 +0100
Commit:     Marcus Schäfer <marcus.schaefer@gmail.com>
CommitDate: Fri Feb 5 11:51:34 2021 +0100

    Bump version: 2.0.15 → 2.0.16

commit 45ae18bd905e1e547927ab1bab46b906d19d6939
Author:     Jesus Bermudez Velazquez <jesus.bv@suse.com>
AuthorDate: Fri Feb 5 10:03:31 2021 +0000
Commit:     Jesus Bermudez Velazquez <jesus.bv@suse.com>
CommitDate: Fri Feb 5 10:45:11 2021 +0000

    Allow non standard paths
    
    Create dir if not exists before copying

commit 6a86b0c57feed6d69e589d62679e4287b7f03993
Author:     Marcus Schäfer <marcus.schaefer@gmail.com>
AuthorDate: Fri Feb 5 10:21:20 2021 +0100
Commit:     Marcus Schäfer <marcus.schaefer@gmail.com>
CommitDate: Fri Feb 5 10:21:20 2021 +0100

    Bump version: 2.0.14 → 2.0.15

commit 79e63caaaac0838341acd957e0adc0c62f86c800
Author:     Jesus Bermudez Velazquez <jesus.bv@suse.com>
AuthorDate: Tue Feb 2 12:12:53 2021 +0000
Commit:     Jesus Bermudez Velazquez <jesus.bv@suse.com>
CommitDate: Thu Feb 4 17:44:11 2021 +0000

    Extend preserved files
    
    Add option to preserve files.
    
    This fixes #180
    
    This references bsc#1181808

commit 707f5b794482d4f4735388f2b4af2f54f97e3632
Author:     Marcus Schäfer <marcus.schaefer@gmail.com>
AuthorDate: Thu Feb 4 08:33:11 2021 +0100
Commit:     Marcus Schäfer <marcus.schaefer@gmail.com>
CommitDate: Thu Feb 4 08:33:11 2021 +0100

    Move to github actions
    
    Travis has a strange opensource model

commit ce0ec163e4786792a80cf78d554b5b4ff4811095
Author:     Marcus Schäfer <marcus.schaefer@gmail.com>
AuthorDate: Mon Nov 16 11:45:54 2020 +0100
Commit:     Marcus Schäfer <marcus.schaefer@gmail.com>
CommitDate: Mon Nov 16 11:45:54 2020 +0100

    Bump version: 2.0.13 → 2.0.14

commit 328fceb8d3405f42fbed25b1b41aa768beab3c61
Author:     Jesus Bermudez Velazquez <jesus.bv@suse.com>
AuthorDate: Fri Nov 13 12:23:39 2020 +0000
Commit:     Jesus Bermudez Velazquez <jesus.bv@suse.com>
CommitDate: Fri Nov 13 15:59:02 2020 +0000

    Set right root type fs
    
    When root type is extX, insmod is extX and it should be ext2
    that way grub ext2 module supports all extX fs.
    
    This Fixes bsc#1178737

commit 2883917faafbf96d1d8ccedd14d2f0e9530b568c
Author:     Marcus Schäfer <marcus.schaefer@gmail.com>
AuthorDate: Wed Aug 26 13:53:24 2020 +0200
Commit:     Marcus Schäfer <marcus.schaefer@gmail.com>
CommitDate: Wed Aug 26 13:53:24 2020 +0200

    Bump version: 2.0.12 → 2.0.13

commit 3be7928110b42ea6d5bbaaa6af18bc5e28ff3ec9
Author:     Jesus Bermudez Velazquez <jesus.bv@suse.com>
AuthorDate: Wed Aug 26 11:16:26 2020 +0100
Commit:     Jesus Bermudez Velazquez <jesus.bv@suse.com>
CommitDate: Wed Aug 26 12:35:20 2020 +0100

    Update SMT cache
    
    Due to a cache inconsistency, the cache
    update needs to be triggered.
    
    This is related to bsc#1173654

commit 8e8fc3416da8bf35ea6710a7330918dbad728591
Author:     Marcus Schäfer <marcus.schaefer@gmail.com>
AuthorDate: Tue Aug 25 15:32:04 2020 +0200
Commit:     Marcus Schäfer <marcus.schaefer@gmail.com>
CommitDate: Tue Aug 25 15:32:04 2020 +0200

    Bump version: 2.0.11 → 2.0.12

commit 14d523db4199fb36a894348c2a87cb57b57303dc
Author:     Marcus Schäfer <marcus.schaefer@gmail.com>
AuthorDate: Tue Aug 25 15:29:55 2020 +0200
Commit:     Marcus Schäfer <marcus.schaefer@gmail.com>
CommitDate: Tue Aug 25 15:29:55 2020 +0200

    Trim newline at findmnt output
    
    The output of the findmnt command returns information that
    closes with a newline. This newline was used as part of the
    device name and leads to errors on the subsequent lsblk
    call which uses this device name.

commit 11403b0eed822f5154e8087ad77df10bc83a8adb
Author:     Marcus Schäfer <marcus.schaefer@gmail.com>
AuthorDate: Tue Aug 25 09:50:09 2020 +0200
Commit:     Marcus Schäfer <marcus.schaefer@gmail.com>
CommitDate: Tue Aug 25 09:50:09 2020 +0200

    Bump version: 2.0.10 → 2.0.11

commit 7d64626bf5bae77859854430ebc9d52bb28fb377
Author:     Marcus Schäfer <marcus.schaefer@gmail.com>
AuthorDate: Mon Aug 24 17:25:12 2020 +0200
Commit:     Marcus Schäfer <marcus.schaefer@gmail.com>
CommitDate: Mon Aug 24 17:25:12 2020 +0200

    Added update of regionserverclnt for Azure
    
    In case of the Azure cloud the auto detection code for the root
    disk device does not work when running the distribution migration
    live system. Therefore it's required to pass in the correct
    information as option to azuremetadata. This is related to
    bsc#1173654

commit 604c33663c643adee8f2419a623c641b944b6686
Author:     Marcus Schäfer <marcus.schaefer@gmail.com>
AuthorDate: Fri Aug 21 15:20:40 2020 +0200
Commit:     Marcus Schäfer <marcus.schaefer@gmail.com>
CommitDate: Fri Aug 21 15:20:40 2020 +0200

    Bump version: 2.0.9 → 2.0.10

commit 8057a1c60b18d0dca5a3855c06e5e1ae75b644f5
Author:     Marcus Schäfer <marcus.schaefer@gmail.com>
AuthorDate: Fri Aug 21 15:19:16 2020 +0200
Commit:     Marcus Schäfer <marcus.schaefer@gmail.com>
CommitDate: Fri Aug 21 15:19:16 2020 +0200

    Explicitly request python3-azuremetadata
    
    There are two packages in the SUSE namespace for an
    azuremetadata tool. An old one and a new one. It seems
    the package does not correctly set provides/obsoletes
    which causes the old azuremetadata package to be
    pulled in when it should be python3-azuremetadata

commit ff73cff9bd00e964ad511bfb32fea52882b3a213
Author:     Marcus Schäfer <marcus.schaefer@gmail.com>
AuthorDate: Mon Jul 13 15:22:26 2020 +0200
Commit:     Marcus Schäfer <marcus.schaefer@gmail.com>
CommitDate: Mon Jul 13 15:22:26 2020 +0200

    Bump version: 2.0.8 → 2.0.9

commit b6a2f6d04986d49b4324d90a558d84b95d6ec835
Author:     Marcus Schäfer <marcus.schaefer@gmail.com>
AuthorDate: Mon Jul 13 15:20:24 2020 +0200
Commit:     Marcus Schäfer <marcus.schaefer@gmail.com>
CommitDate: Mon Jul 13 15:20:24 2020 +0200

    Reference commit for SUSE maintenance
    
    This commit adds a reference to bsc#1173654
    The rebuild of the DMS image will include an updated
    version of python3-azuremetadata version="5.1.0"
    which is required to upgrade from SLE12 to SLE15
    in the Azure cloud

commit 522d53051822625d541fa4e4dfdd499c53daca41
Author:     Marcus Schäfer <marcus.schaefer@gmail.com>
AuthorDate: Fri Jul 10 09:45:53 2020 +0200
Commit:     Marcus Schäfer <marcus.schaefer@gmail.com>
CommitDate: Fri Jul 10 09:45:53 2020 +0200

    Mount EFI subvolume prior loopback
    
    If the efi grub modules lives in a btrfs subvolume it's
    required to mount the subvolume to allow module loading

commit 8e755660b4a63fde9e8a825a0c9e84930a2030c4
Author:     Marcus Schäfer <marcus.schaefer@gmail.com>
AuthorDate: Wed Jul 8 16:36:14 2020 +0200
Commit:     Marcus Schäfer <marcus.schaefer@gmail.com>
CommitDate: Wed Jul 8 16:36:14 2020 +0200

    Use dynamic loader allocation
    
    Set linux and initrd loader depending on the grub_platform
    This is related to bsc#1173532

commit f994384851ccb25d2f55a1ce3658396b351e8027
Author:     Marcus Schäfer <marcus.schaefer@gmail.com>
AuthorDate: Wed Jul 8 16:21:12 2020 +0200
Commit:     Marcus Schäfer <marcus.schaefer@gmail.com>
CommitDate: Wed Jul 8 16:22:17 2020 +0200

    Fixed reading of grub cmdline options
    
    If the grub setup uses linuxefi or a $linux variable
    the regular expression to extract the kernel cmdline
    failed. Related to bsc#1173532

commit 503dfeed798b2affe4e5e3be36f70daf32b45c72
Author:     Marcus Schäfer <marcus.schaefer@gmail.com>
AuthorDate: Tue Jul 7 14:21:59 2020 +0200
Commit:     Marcus Schäfer <marcus.schaefer@gmail.com>
CommitDate: Tue Jul 7 14:24:43 2020 +0200

    Use file based syscall for kexec operation
    
    To avoid permission problems on load of the kernel use
    the new KEXEC_FILE_LOAD syscall instead of KEXEC_LOAD
    This Fixes #174 and Fixes bsc#1173532

commit 3ff09896d3f2430d3c259eb64e63a95ca756a8ba
Author:     Robert Schweikert <rjschwei@suse.com>
AuthorDate: Wed Mar 25 10:49:56 2020 -0400
Commit:     Marcus Schäfer <marcus.schaefer@gmail.com>
CommitDate: Thu Apr 2 12:07:42 2020 +0200

    Documentation update
    
    * Pull cloud specific caveats into their own section
    * Explicitly set the supported migration path for cloud instances
    * Minor woring improvements
    * Remove section about setting the migration target to make it a
      hidden feature

commit 22409ef2ea26db9e80015dd2bf25f1829e687516
Author:     Robert Schweikert <rjschwei@suse.com>
AuthorDate: Tue Mar 24 14:37:28 2020 -0400
Commit:     Robert Schweikert <rjschwei@suse.com>
CommitDate: Tue Mar 24 14:37:28 2020 -0400

    - Improve expressiveness of upgrade condition in case of multiple root
      file system presence.

commit caf0381eb2053bfd78ffefa0b876287ac442ac1f
Author:     Jesus Bermudez Velazquez <jesus.bv@suse.com>
AuthorDate: Wed Mar 18 17:14:05 2020 +0000
Commit:     Jesus Bermudez Velazquez <jesus.bv@suse.com>
CommitDate: Wed Mar 18 17:14:05 2020 +0000

    Rewording for clarity

commit 9215b7de7ae1d3cc5984f66e7b28b2e1359b8e5a
Author:     Jesus Bermudez Velazquez <jesus.bv@suse.com>
AuthorDate: Mon Feb 24 11:29:23 2020 +0000
Commit:     Jesus Bermudez Velazquez <jesus.bv@suse.com>
CommitDate: Mon Feb 24 11:29:23 2020 +0000

    State the focused system is the main one

commit 654f9413776677fcf33f3c27e8f18a78b3a4fe25
Author:     Marcus Schäfer <marcus.schaefer@gmail.com>
AuthorDate: Mon Feb 24 10:14:50 2020 +0100
Commit:     Marcus Schäfer <marcus.schaefer@gmail.com>
CommitDate: Mon Feb 24 10:14:50 2020 +0100

    Bump version: 2.0.7 → 2.0.8

commit 5cc335f1e804be4c8e6626a5c7e6d568775ba7f4
Author:     Marcus Schäfer <marcus.schaefer@gmail.com>
AuthorDate: Mon Feb 24 10:14:23 2020 +0100
Commit:     Marcus Schäfer <marcus.schaefer@gmail.com>
CommitDate: Mon Feb 24 10:14:23 2020 +0100

    Reference commit for SUSE maintenance
    
    This submission creates a reference to bsc#1156068

commit 74a3128fac5e5920ea9a7f51355b9f4280933915
Author:     Marcus Schäfer <marcus.schaefer@gmail.com>
AuthorDate: Fri Feb 21 14:58:11 2020 +0100
Commit:     Marcus Schäfer <marcus.schaefer@gmail.com>
CommitDate: Fri Feb 21 14:58:11 2020 +0100

    Bump version: 2.0.6 → 2.0.7

commit f3b0cd80799af34ac5e5d7e23d79afb32eee57b6
Author:     Jesus Bermudez Velazquez <jesus.bv@suse.com>
AuthorDate: Mon Feb 17 16:30:42 2020 +0000
Commit:     Jesus Bermudez Velazquez <jesus.bv@suse.com>
CommitDate: Fri Feb 21 10:56:49 2020 +0000

    Preserve zypper log
    
    Mount zypper log in the host system.
    This Fixes #168

commit a82a78a0e1eb52c483f98741b4d1c337eec40b5e
Author:     Marcus Schäfer <marcus.schaefer@gmail.com>
AuthorDate: Mon Feb 17 08:37:27 2020 +0100
Commit:     Marcus Schäfer <marcus.schaefer@gmail.com>
CommitDate: Mon Feb 17 08:37:27 2020 +0100

    Bump version: 2.0.5 → 2.0.6

commit 0c77dda0a2a4a1a18d9d45595550ea12ff4241ed
Author:     Jesus Bermudez Velazquez <jesus.bv@suse.com>
AuthorDate: Wed Feb 5 17:01:20 2020 +0000
Commit:     Jesus Bermudez Velazquez <jesus.bv@suse.com>
CommitDate: Wed Feb 5 17:01:20 2020 +0000

    Mount only existent devices
    
    Before, mount service mounted everything on
    /etc/fstab, now that service takes into account
    the entries that have an existent path.
    
    This Fixes #165

commit 263075d48d4a5fc806462f9abf078555dc2c75d6
Author:     Marcus Schäfer <marcus.schaefer@gmail.com>
AuthorDate: Wed Jan 29 10:28:41 2020 +0100
Commit:     Marcus Schäfer <marcus.schaefer@gmail.com>
CommitDate: Wed Jan 29 10:28:41 2020 +0100

    Bump version: 2.0.4 → 2.0.5

commit 949d07605e3acca4349bad21357f578d3ea3eaec
Author:     Marcus Schäfer <marcus.schaefer@gmail.com>
AuthorDate: Tue Jan 28 12:24:44 2020 +0100
Commit:     Marcus Schäfer <marcus.schaefer@gmail.com>
CommitDate: Tue Jan 28 12:24:44 2020 +0100

    Fixed handling of busy state on system-root
    
    The console log service holds a busy state on the system-root
    mount because the log file is written on the host to migrate.
    At reboot time the service should be stopped to allow a clean
    umount procedure prior reboot. In addition the console log
    service should only restart on failure and not always

commit 9a4c55757e12d970202fcb2d59f105b736077240
Author:     Marcus Schäfer <marcus.schaefer@gmail.com>
AuthorDate: Thu Jan 23 11:45:23 2020 +0100
Commit:     Marcus Schäfer <marcus.schaefer@gmail.com>
CommitDate: Thu Jan 23 11:45:23 2020 +0100

    Bump version: 2.0.3 → 2.0.4

commit e309287b6db4b80040e44315ac038ea0046a5580
Author:     Marcus Schäfer <marcus.schaefer@gmail.com>
AuthorDate: Fri Jan 17 15:27:40 2020 +0100
Commit:     Marcus Schäfer <marcus.schaefer@gmail.com>
CommitDate: Fri Jan 17 16:21:06 2020 +0100

    Disable lvmetad
    
    lvmetad running on the live migration host does not play well
    with the volumes activated for the system to migrate. Any
    chrooted operation will cause lvmetad to complain and to fall
    back to internal scanning

commit 9f835c47922345518743cebe65538d92866e8adf
Author:     Marcus Schäfer <marcus.schaefer@gmail.com>
AuthorDate: Thu Jan 16 23:13:14 2020 +0100
Commit:     Marcus Schäfer <marcus.schaefer@gmail.com>
CommitDate: Thu Jan 16 23:13:14 2020 +0100

    Add support for LVM managed devices
    
    LVM managed devices requires the detection as such in the
    mount_system service as well as the activation of the
    volume group prior mounting. This Fixes bsc#1156068

commit ecf37b6f1e14c2e293cc1234ca60d4670230dee7
Author:     Jesus Bermudez Velazquez <jesus.bv@suse.com>
AuthorDate: Tue Jan 14 10:43:11 2020 +0000
Commit:     Jesus Bermudez Velazquez <jesus.bv@suse.com>
CommitDate: Tue Jan 14 10:43:11 2020 +0000

    Fix typo for doc

commit e281594047ca2e16d861ca7d516d07ad47d06931
Author:     Robert Schweikert <rjschwei@suse.com>
AuthorDate: Mon Jan 13 07:57:26 2020 -0500
Commit:     Marcus Schäfer <marcus.schaefer@gmail.com>
CommitDate: Tue Jan 14 10:40:34 2020 +0100

    Update documentation
    
    Better clarify the intended use of the system for
    Public Cloud instances.

commit 2a3077cdf2aca11de987d9221a7246265dec10b2
Author:     Marcus Schäfer <marcus.schaefer@gmail.com>
AuthorDate: Mon Jan 13 12:48:16 2020 +0100
Commit:     Marcus Schäfer <marcus.schaefer@gmail.com>
CommitDate: Mon Jan 13 12:48:16 2020 +0100

    Bump version: 2.0.2 → 2.0.3

commit 731b93d124bd0e3156676836defece0013cc0205
Author:     Marcus Schäfer <marcus.schaefer@gmail.com>
AuthorDate: Mon Jan 13 12:47:50 2020 +0100
Commit:     Marcus Schäfer <marcus.schaefer@gmail.com>
CommitDate: Mon Jan 13 12:47:50 2020 +0100

    Make sure logger directory exists

commit 8de18472b7abae528af5d4bae559ad2acac7df8f
Author:     Marcus Schäfer <marcus.schaefer@gmail.com>
AuthorDate: Fri Jan 10 16:28:51 2020 +0100
Commit:     Marcus Schäfer <marcus.schaefer@gmail.com>
CommitDate: Fri Jan 10 16:28:51 2020 +0100

    Bump version: 2.0.1 → 2.0.2

commit b5f46f4a88f7dad4574a616f2f9ad10e4168379b
Author:     Marcus Schäfer <marcus.schaefer@gmail.com>
AuthorDate: Fri Jan 10 15:21:46 2020 +0100
Commit:     Marcus Schäfer <marcus.schaefer@gmail.com>
CommitDate: Fri Jan 10 15:21:46 2020 +0100

    Cleanup and fix logging
    
    The logger class contained methods never used. In addition
    the logging setup was wrong and only partially working. Any
    unit file represents a systemd call. This means any unit file
    is an extra program call which requires the initialization
    of the python logging facility. The logging itself is also
    extended in a way that any external program calls from the
    Command class will now be logged and written to the logfile
    at call time

commit 5e1e194761ad97ca53a7f2691f8f52600bdfc801
Author:     Marcus Schäfer <marcus.schaefer@gmail.com>
AuthorDate: Fri Jan 10 08:32:55 2020 +0100
Commit:     Marcus Schäfer <marcus.schaefer@gmail.com>
CommitDate: Fri Jan 10 08:32:55 2020 +0100

    Conditionally check if the system is registered
    
    Only if the zypper migration plugin is used it's required to
    check if the system is registered. In case use_zypper_migration
    is deactivated through the config file the migration will
    run zypper dup with a customer specific set of repositories.
    In this case it's not neccessarily required that this system
    is registered to use a SUSE repository server.

commit 09e5de6891393264f7e1a48aa3ddc478e3fc13d4
Author:     Marcus Schäfer <marcus.schaefer@gmail.com>
AuthorDate: Thu Jan 9 16:42:01 2020 +0100
Commit:     Marcus Schäfer <marcus.schaefer@gmail.com>
CommitDate: Thu Jan 9 16:42:01 2020 +0100

    Make sure .ssh directory is a managed directory

commit 13a3323b6d0a4b9c0176f395ac67b8e8c0b14a81
Author:     Marcus Schäfer <marcus.schaefer@gmail.com>
AuthorDate: Thu Jan 9 12:06:53 2020 +0100
Commit:     Marcus Schäfer <marcus.schaefer@gmail.com>
CommitDate: Thu Jan 9 12:06:53 2020 +0100

    Bump version: 2.0.0 → 2.0.1

commit 21e5d36ddbb4a810c46a3c806b43bf74771ba39d
Author:     Marcus Schäfer <marcus.schaefer@gmail.com>
AuthorDate: Wed Jan 8 18:08:20 2020 +0100
Commit:     Marcus Schäfer <marcus.schaefer@gmail.com>
CommitDate: Wed Jan 8 18:13:11 2020 +0100

    Fixed registration check
    
    The SUSEConnect call to check if the system is registered was
    called in the live migration system environment. Of course there
    it will fail because the live migration system is never registered.
    The call has to be performed chrooted inside of the system we
    want to migrate. Thus the caller arguments as well as the call
    time in the preparation unit needs a fix

commit aa3a3f5c284cf507954ce1c52a0a8af6df57eb1b
Author:     Marcus Schäfer <marcus.schaefer@gmail.com>
AuthorDate: Wed Jan 8 16:56:28 2020 +0100
Commit:     Marcus Schäfer <marcus.schaefer@gmail.com>
CommitDate: Wed Jan 8 16:56:28 2020 +0100

    Bump version: 1.2.2 → 2.0.0

commit 13c00ac234b95842ec9b971cab82eac1e38d47c1
Author:     Marcus Schäfer <marcus.schaefer@gmail.com>
AuthorDate: Wed Jan 8 16:55:37 2020 +0100
Commit:     Marcus Schäfer <marcus.schaefer@gmail.com>
CommitDate: Wed Jan 8 16:55:37 2020 +0100

    Reference commit for SUSE maintenance
    
    This submission creates a reference to bsc#1155192

commit b8d1af26c7788e6bbeb34d57300e60bc2cdb0157
Author:     Marcus Schäfer <marcus.schaefer@gmail.com>
AuthorDate: Wed Jan 8 16:38:47 2020 +0100
Commit:     Marcus Schäfer <marcus.schaefer@gmail.com>
CommitDate: Wed Jan 8 16:38:47 2020 +0100

    Bump version: 1.2.1 → 1.2.2

commit e8c0a5b0c8135b96bbef6f8eb3ebf34523253d80
Author:     Marcus Schäfer <marcus.schaefer@gmail.com>
AuthorDate: Wed Jan 8 11:52:13 2020 +0100
Commit:     Marcus Schäfer <marcus.schaefer@gmail.com>
CommitDate: Wed Jan 8 16:37:28 2020 +0100

    Fixed static method call
    
    The method is_registered is implemented as object method
    but is called as static method SUSEConnect.is_registered().
    This is wrong and causes a python runtime error on missing
    argument: self

commit dc0aefa28dd763e384f29ae7861bbca14605f318
Author:     Marcus Schäfer <marcus.schaefer@gmail.com>
AuthorDate: Wed Jan 8 12:08:06 2020 +0100
Commit:     Marcus Schäfer <marcus.schaefer@gmail.com>
CommitDate: Wed Jan 8 12:08:06 2020 +0100

    Cleanup code for style and scope
    
    Static methods should be explicitly written as such.
    As we are on python3 there is no need to inherit from
    Object for classes. Also respect the 80chars per line
    limit

commit 30f7eeb74b44fb8dd5ad72d43b6280bc869299c9
Author:     Marcus Schäfer <marcus.schaefer@gmail.com>
AuthorDate: Wed Jan 8 11:38:36 2020 +0100
Commit:     Marcus Schäfer <marcus.schaefer@gmail.com>
CommitDate: Wed Jan 8 11:41:41 2020 +0100

    Consolidate image description in git
    
    Maintain the live image description which implements the
    platform for the upgrade process here in git. This allows
    for better maintenance of the description data as well as
    provides scope (pubcloud) to the description and also
    keeps the version number in sync with the process code

commit e5cf5a365060a8524ccb3a33fd2e89c3464439b3
Author:     Marcus Schäfer <marcus.schaefer@gmail.com>
AuthorDate: Wed Jan 8 10:06:48 2020 +0100
Commit:     Marcus Schäfer <marcus.schaefer@gmail.com>
CommitDate: Wed Jan 8 10:06:48 2020 +0100

    Bump version: 1.2.0 → 1.2.1

commit 8caf7983a99ea74c02c6860fabfa612543130d64
Author:     Jesus Bermudez Velazquez <jesus.bv@suse.com>
AuthorDate: Fri Nov 22 15:11:30 2019 +0000
Commit:     Jesus Bermudez Velazquez <jesus.bv@suse.com>
CommitDate: Fri Nov 22 16:52:45 2019 +0000

    Add valid registration verification
    
    System must be registered for the migration to succeed.
    
    This Fixes #150

commit 74fb3071dcf2c3d58a5555c858b4afec6e427041
Author:     Jesus Bermudez Velazquez <jesus.bv@suse.com>
AuthorDate: Fri Nov 22 10:22:51 2019 +0000
Commit:     Jesus Bermudez Velazquez <jesus.bv@suse.com>
CommitDate: Fri Nov 22 10:26:32 2019 +0000

    Bind mount usr/lib/zypp/plugins/services
    
    Bind mounting usr/lib/zypp/plugins causes that
    old version of urlresolver gets called which
    breaks the migration on the zypper level.
    
    Instead of mounting all the plugins path, only services is needed.
    
    This Fixes #151

commit 6f2db3c6db0bf1642db1885bc5cb8232fa2dc0e8
Author:     Marcus Schäfer <marcus.schaefer@gmail.com>
AuthorDate: Thu Nov 14 11:22:32 2019 +0100
Commit:     Marcus Schäfer <marcus.schaefer@gmail.com>
CommitDate: Thu Nov 14 11:22:32 2019 +0100

    Bump version: 1.1.9 → 1.2.0

commit 0d6af44cdbe4facb61ea90de95d746a832e0cb46
Author:     Marcus Schäfer <marcus.schaefer@gmail.com>
AuthorDate: Thu Nov 14 11:18:48 2019 +0100
Commit:     Marcus Schäfer <marcus.schaefer@gmail.com>
CommitDate: Thu Nov 14 11:18:48 2019 +0100

    Reference commit for SUSE maintenance
    
    This submission creates a reference to bsc#1155192

commit 209fd756f7f0458d9e30763828c31e5aad129222
Author:     Marcus Schäfer <marcus.schaefer@gmail.com>
AuthorDate: Thu Nov 14 10:59:06 2019 +0100
Commit:     Marcus Schäfer <marcus.schaefer@gmail.com>
CommitDate: Thu Nov 14 10:59:06 2019 +0100

    Bump version: 1.1.8 → 1.1.9

commit a12748a6cf774bf0dbd803dcc2c1b8871fa5ac21
Author:     Jesus Bermudez Velazquez <jesus.bv@suse.com>
AuthorDate: Tue Nov 12 14:50:16 2019 +0000
Commit:     Jesus Bermudez Velazquez <jesus.bv@suse.com>
CommitDate: Tue Nov 12 14:55:28 2019 +0000

    Add requires for minimun version
    
    Boolean expressions are available with rpm >= 4.13
    and SLES_SAP provides product(SLES) = %{version}-%{release}

commit 49503f39ad90d5d8160d2f962e8e7c17ad903354
Author:     Marcus Schäfer <marcus.schaefer@gmail.com>
AuthorDate: Tue Nov 12 13:08:43 2019 +0100
Commit:     Marcus Schäfer <marcus.schaefer@gmail.com>
CommitDate: Tue Nov 12 13:08:43 2019 +0100

    Bump version: 1.1.7 → 1.1.8

commit 62a5aae64d3acc106a3f2a685957b4bcbbc13eb4
Author:     Marcus Schäfer <marcus.schaefer@gmail.com>
AuthorDate: Tue Nov 12 13:07:55 2019 +0100
Commit:     Marcus Schäfer <marcus.schaefer@gmail.com>
CommitDate: Tue Nov 12 13:07:55 2019 +0100

    Disable use of bool expressions in Requires
    
    Available with rpm >= 4.13. Thus we can't build for SLE12
    because rpm is older there

commit 7a754c311ba3cad03e5c1d24c454c201903875a7
Author:     Marcus Schäfer <marcus.schaefer@gmail.com>
AuthorDate: Tue Nov 12 12:51:11 2019 +0100
Commit:     Marcus Schäfer <marcus.schaefer@gmail.com>
CommitDate: Tue Nov 12 12:51:11 2019 +0100

    Bump version: 1.1.6 → 1.1.7

commit 2a93ea81e8dd7bd8afec343b24c8d992cff6f8ad
Author:     Marcus Schäfer <marcus.schaefer@gmail.com>
AuthorDate: Tue Nov 12 12:50:10 2019 +0100
Commit:     Marcus Schäfer <marcus.schaefer@gmail.com>
CommitDate: Tue Nov 12 12:50:10 2019 +0100

    Fixed Requires syntax
    
    According to https://rpm.org/user_doc/more_dependencies.html
    boolean expressions must be embedded into brackets

commit 05780b49f4f8713271d915a75d3b18604f14f0e4
Author:     Marcus Schäfer <marcus.schaefer@gmail.com>
AuthorDate: Tue Nov 12 11:17:35 2019 +0100
Commit:     Marcus Schäfer <marcus.schaefer@gmail.com>
CommitDate: Tue Nov 12 11:17:35 2019 +0100

    Bump version: 1.1.5 → 1.1.6

commit 48dad8d63fca1d8ab138cb58ccddb463aa72589a
Author:     Marcus Schäfer <marcus.schaefer@gmail.com>
AuthorDate: Tue Nov 12 11:16:45 2019 +0100
Commit:     Marcus Schäfer <marcus.schaefer@gmail.com>
CommitDate: Tue Nov 12 11:16:45 2019 +0100

    Fixed superfluous newline in changelog generator

commit 4f0ed5efa848193214632fa991bc4c5245328ef2
Author:     Marcus Schäfer <marcus.schaefer@gmail.com>
AuthorDate: Tue Nov 12 11:13:50 2019 +0100
Commit:     Marcus Schäfer <marcus.schaefer@gmail.com>
CommitDate: Tue Nov 12 11:13:50 2019 +0100

    Bump version: 1.1.4 → 1.1.5

commit f45f2506bdad14cfbe212692414c14475597590e
Author:     Marcus Schäfer <marcus.schaefer@gmail.com>
AuthorDate: Tue Nov 12 11:12:43 2019 +0100
Commit:     Marcus Schäfer <marcus.schaefer@gmail.com>
CommitDate: Tue Nov 12 11:12:43 2019 +0100

    Fixed changelog reference commit
    
    An old reference commit was used which has to be updated because
    a manual change to the .changes file on obs was done :(

commit b819be21b5671a55b30ac00d42e0d734a84ba58d
Author:     Jesus Bermudez Velazquez <jesus.bv@suse.com>
AuthorDate: Tue Nov 12 09:34:49 2019 +0000
Commit:     Jesus Bermudez Velazquez <jesus.bv@suse.com>
CommitDate: Tue Nov 12 09:34:49 2019 +0000

    Add or condition properly

commit ee9d30dfdb6bd554eb66f63fadcf828470c0c62a
Author:     Marcus Schäfer <marcus.schaefer@gmail.com>
AuthorDate: Tue Nov 12 09:36:48 2019 +0100
Commit:     Marcus Schäfer <marcus.schaefer@gmail.com>
CommitDate: Tue Nov 12 09:36:48 2019 +0100

    Bump version: 1.1.3 → 1.1.4

commit 43d50c18908d8bf22b59c8339919433daadbb4d0
Author:     Marcus Schäfer <marcus.schaefer@gmail.com>
AuthorDate: Tue Nov 12 09:35:52 2019 +0100
Commit:     Marcus Schäfer <marcus.schaefer@gmail.com>
CommitDate: Tue Nov 12 09:35:52 2019 +0100

    Added activation spec changes to changelog
    
    Changes that happened on the activation package spec file
    were not part of the package changelog generated by
    helper/update_changelog.py

commit 84e32ffc1517d57cb5630a47e6ba29169eeabab0
Author:     Marcus Schäfer <marcus.schaefer@gmail.com>
AuthorDate: Tue Nov 12 09:24:20 2019 +0100
Commit:     Marcus Schäfer <marcus.schaefer@gmail.com>
CommitDate: Tue Nov 12 09:24:20 2019 +0100

    Bump version: 1.1.2 → 1.1.3

commit 69b02d03d9e586eb665b9b6c8601247923eac5ec
Author:     Jesus Bermudez Velazquez <jesus.bv@suse.com>
AuthorDate: Mon Nov 11 15:51:59 2019 +0000
Commit:     Jesus Bermudez Velazquez <jesus.bv@suse.com>
CommitDate: Mon Nov 11 15:51:59 2019 +0000

    The minimum migration starting point should be
    
    SLES 12 SP3
    
    or
    
    SLES For SAP 12 SP3.

commit 4c28f432d1d1bafc070c4d9c19ca649307c30234
Author:     Marcus Schäfer <marcus.schaefer@gmail.com>
AuthorDate: Fri Nov 8 14:09:28 2019 +0100
Commit:     Marcus Schäfer <marcus.schaefer@gmail.com>
CommitDate: Fri Nov 8 14:09:28 2019 +0100

    Bump version: 1.1.1 → 1.1.2

commit 0ce32bad1af2552b56e42a53b50c5e926c5a9c97
Author:     Marcus Schäfer <marcus.schaefer@gmail.com>
AuthorDate: Fri Nov 8 09:21:34 2019 +0100
Commit:     Marcus Schäfer <marcus.schaefer@gmail.com>
CommitDate: Fri Nov 8 11:39:41 2019 +0100

    Fixed reboot call procedure
    
    the systemd magic that detects whether to do kexec or not, is only
    applied if we invoke reboot. systemd internally maps reboot to one or
    the other of 'systemctl reboot' or 'systemctl kexec'. Therefore the
    current implementation which just call 'systemctl reboot' does not
    transparently detect for kexec. As we don't want to rely on the
    magic behind the reboot call we explicitly call systemctl with
    reboot or kecec depending on the configured soft_reboot
    configuration option. This is then also in line with the code
    that runs 'kexec load' which also depends on the configured
    soft_reboot value.

commit 7e173f686ca8406bf8391312246885b0f1362be7
Author:     Marcus Schäfer <marcus.schaefer@gmail.com>
AuthorDate: Wed Nov 6 09:31:52 2019 +0100
Commit:     Marcus Schäfer <marcus.schaefer@gmail.com>
CommitDate: Wed Nov 6 09:31:52 2019 +0100

    Bump version: 1.1.0 → 1.1.1

commit 649308c6970dd2e40940ffb1d7297feacb00bc45
Author:     Marcus Schäfer <marcus.schaefer@gmail.com>
AuthorDate: Tue Nov 5 16:59:45 2019 +0100
Commit:     Marcus Schäfer <marcus.schaefer@gmail.com>
CommitDate: Wed Nov 6 09:31:14 2019 +0100

    Fixed reading of config files
    
    There are two potential config files, both are optional
    but one of them was opened in any case and if not present
    raises an exception. This should not be the case and gets
    fixed by this commit

commit 27a251f65556cd0b5db343a8345a1bb0b41c9a00
Author:     Marcus Schäfer <marcus.schaefer@gmail.com>
AuthorDate: Tue Nov 5 16:28:39 2019 +0100
Commit:     Marcus Schäfer <marcus.schaefer@gmail.com>
CommitDate: Tue Nov 5 16:28:39 2019 +0100

    Fix changelog inconsistency
    
    It seems there was a changelog entry added in obs but not
    in the git history for the suse-migration-sle15-activation
    package. This commit brings all in line again

commit a318418b30260f680cb616f3ae1975154d22490b
Author:     Marcus Schäfer <marcus.schaefer@gmail.com>
AuthorDate: Tue Nov 5 11:35:40 2019 +0100
Commit:     Marcus Schäfer <marcus.schaefer@gmail.com>
CommitDate: Tue Nov 5 11:35:40 2019 +0100

    Bump version: 1.0.5 → 1.1.0

commit d36da39d140f2929e0db4e6097c769c02615211e
Author:     Jesus Bermudez Velazquez <jesus.bv@suse.com>
AuthorDate: Wed Oct 30 12:45:28 2019 +0000
Commit:     Jesus Bermudez Velazquez <jesus.bv@suse.com>
CommitDate: Tue Nov 5 09:43:16 2019 +0000

    Auto detect migration product
    
    As there could be different targets (SLES, SLES_SAP, etc)
    instead of setting the target in the custom file, the migration
    system auto detects the migration product.
    
    In order to do so, the target version is read from the live system.
    
    This Fixes #129

commit 183a65abc2f93962fef1a52377708a2e9dee5f25
Author:     Tim Serong <tserong@suse.com>
AuthorDate: Thu Oct 31 16:28:17 2019 +1100
Commit:     Tim Serong <tserong@suse.com>
CommitDate: Tue Nov 5 18:09:32 2019 +1100

    Add schema validation for migration config file
    
    If the custom config file is empty or contains only comment lines,
    it will now be ignored (rather than raising an exception and killing
    the migration).  If the file is corrupt somehow, or violates schema
    validation, an error will be logged and the migration will abort.
    
    Validation is *also* applied to the default config file (the one
    inside the migration image).  This makes automated testing easy,
    because we'll effectively do automatic validation on any of the
    test config files, whether they're for default config or custom
    config.

commit 4b87c2bfdcc8f18d5f02b46f1d180baaad49cc0b
Author:     Tim Serong <tserong@suse.com>
AuthorDate: Tue Nov 5 18:04:45 2019 +1100
Commit:     Tim Serong <tserong@suse.com>
CommitDate: Tue Nov 5 18:09:27 2019 +1100

    Do kernel mounts in mount service (not in prepare service)
    
    If the /dev, /proc and /sys mounts are done in the prepare service,
    then exceptions thrown between mount system and prepare result in
    the grub config not being applied.  Moving these mounts earlier in
    the process ensures that the grub setup service has everything it
    needs (see https://github.com/SUSE/suse-migration-services/pull/142
    for more detailed discussion of the problem).

commit ab2f8823074d39df5b76ce17bf6841562f2139df
Author:     Jesus Bermudez Velazquez <jesus.bv@suse.com>
AuthorDate: Thu Oct 31 17:41:06 2019 +0000
Commit:     Jesus Bermudez Velazquez <jesus.bv@suse.com>
CommitDate: Thu Oct 31 17:48:00 2019 +0000

    Require SUSEConnect updated version
    
    In a failed distribution migration scenario,
    zypper-migration does a rollback. During this
    rollback, zypper tries to refresh deactivated
    repos, making the rollback fail.
    
    This has been fixed in the newer (0.3.20) version of SUSEConnect.
    
    This Fixes #133

commit 8e3bda21831893f2ac92b8cbdef17ec982110d28
Author:     Marcus Schäfer <marcus.schaefer@gmail.com>
AuthorDate: Wed Oct 30 15:51:00 2019 +0100
Commit:     Marcus Schäfer <marcus.schaefer@gmail.com>
CommitDate: Wed Oct 30 15:51:00 2019 +0100

    Delete left over debug print statement

commit 224880efe29a512010d9738855975ffc22bcbe96
Author:     Marcus Schäfer <marcus.schaefer@gmail.com>
AuthorDate: Fri Oct 25 08:59:02 2019 +0200
Commit:     Marcus Schäfer <marcus.schaefer@gmail.com>
CommitDate: Fri Oct 25 08:59:02 2019 +0200

    Bump version: 1.0.4 → 1.0.5

commit 9e61289e4a25dbe653e9ac97ffb7bf439c2bda4a
Author:     Tim Serong <tserong@suse.com>
AuthorDate: Mon Oct 21 21:46:23 2019 +1100
Commit:     Tim Serong <tserong@suse.com>
CommitDate: Fri Oct 25 14:51:59 2019 +1100

    Add option to configure reboot method
    
    This adds a soft_reboot option, which if set to false results in
    a hard reboot, as opposed to using kexec.
    
    Fixes #111

commit 50f7570cd7d9d09fe6b8e40d969d4a77648250df
Author:     Marcus Schäfer <marcus.schaefer@gmail.com>
AuthorDate: Tue Oct 22 12:28:42 2019 +0200
Commit:     Marcus Schäfer <marcus.schaefer@gmail.com>
CommitDate: Tue Oct 22 12:28:42 2019 +0200

    Perform reboot through systemd
    
    reboot is performed through systemd. The call through systemd
    checks if there is a kexec loaded kernel and transparently
    turns 'systemctl reboot' into 'systemctl kexec'. Thus both ways,
    soft and hard reboot are managed in one call. This is related
    to Issue #111

commit 70c0374ccd29add4e57c50a64db2ccc68d65b1c9
Author:     Marcus Schäfer <marcus.schaefer@gmail.com>
AuthorDate: Tue Oct 22 10:55:05 2019 +0200
Commit:     Marcus Schäfer <marcus.schaefer@gmail.com>
CommitDate: Tue Oct 22 10:55:05 2019 +0200

    Allow for vendor change during migration
    
    The migration concept allows for the zypper dup as well as
    for the zypper migrate approach. In the first case the user
    is responsible for setting up the repos and we expect that
    to be done in a way that vendor changes are acceptable. In
    the second case a repository server is used to serve the
    repos and we expect that registration instance to be trustworthy
    such that potential vendor changes are also allowed

commit a219d51da13c846779f200b9a131a128b140de4b
Author:     Jesus Bermudez Velazquez <jesus.bv@suse.com>
AuthorDate: Tue Jul 30 10:44:28 2019 +0100
Commit:     Marcus Schäfer <marcus.schaefer@gmail.com>
CommitDate: Tue Oct 22 10:11:29 2019 +0200

    Refactor product setup
    
    Add SUSEBaseProduct class to detect and handle the
    installed base product. Related to Issue #129

commit 9c1d0f22bfe3e74975fe76a50b8029d5a7325a52
Author:     Jesus Bermudez Velazquez <jesus.bv@suse.com>
AuthorDate: Tue Aug 20 11:39:04 2019 +0100
Commit:     Jesus Bermudez Velazquez <jesus.bv@suse.com>
CommitDate: Tue Aug 20 11:39:04 2019 +0100

    Reference commit for SUSE maintenance
    
    Fix BYOS upgrade from 12SP4-SAP to 15 (BSC#1142108)

commit 60831c55b8cc901f7e7ca37943742a306ea1b438
Author:     Marcus Schäfer <marcus.schaefer@gmail.com>
AuthorDate: Tue Aug 20 11:50:26 2019 +0200
Commit:     Marcus Schäfer <marcus.schaefer@gmail.com>
CommitDate: Tue Aug 20 11:50:26 2019 +0200

    Bump version: 1.0.3 → 1.0.4

commit 2c30bf34a6ed43e93d11f5ea7ce6750850dfce4b
Author:     Marcus Schäfer <marcus.schaefer@gmail.com>
AuthorDate: Tue Aug 20 11:43:50 2019 +0200
Commit:     Marcus Schäfer <marcus.schaefer@gmail.com>
CommitDate: Tue Aug 20 11:44:53 2019 +0200

    Switch changelog generation to UTC
    
    For new entries the UTC format is used because package
    submissions will happen from different time zones

commit 5566bc97d90eb118f74a802e0f425eb95b35ec07
Author:     Marcus Schäfer <marcus.schaefer@gmail.com>
AuthorDate: Tue Aug 20 11:19:38 2019 +0200
Commit:     Marcus Schäfer <marcus.schaefer@gmail.com>
CommitDate: Tue Aug 20 11:19:38 2019 +0200

    Bump version: 1.0.2 → 1.0.3

commit 134443e057bc2bf9462c74fdbd359d5f9a9fb8b8
Author:     Marcus Schäfer <marcus.schaefer@gmail.com>
AuthorDate: Tue Aug 20 11:15:35 2019 +0200
Commit:     Marcus Schäfer <marcus.schaefer@gmail.com>
CommitDate: Tue Aug 20 11:15:35 2019 +0200

    Update changelog creation process
    
    In the same way like in the kiwi project we apply the
    creation of the changelog based on a reference file.
    This allows to work with maintenance which declines
    any request that changes an entry of the changes file
    even if this change just updates the full author name

commit c860357952cabfecabfc2e9e6edab3d5851353fa
Author:     Jesus Bermudez Velazquez <jesus.bv@suse.com>
AuthorDate: Wed Aug 14 12:29:00 2019 +0100
Commit:     Jesus Bermudez Velazquez <jesus.bv@suse.com>
CommitDate: Wed Aug 14 12:29:00 2019 +0100

    This submission creates a reference to bsc#1142108

commit b9a8b1ca017191593fc7592db4b43a3fe3034fc9
Author:     Marcus Schäfer <marcus.schaefer@gmail.com>
AuthorDate: Tue Jul 30 10:06:41 2019 +0200
Commit:     Marcus Schäfer <marcus.schaefer@gmail.com>
CommitDate: Tue Jul 30 10:06:41 2019 +0200

    Bump version: 1.0.1 → 1.0.2

commit 27aef07ca47565f5644bbe1a72370033585c7022
Author:     Marcus Schäfer <marcus.schaefer@gmail.com>
AuthorDate: Mon Jul 29 16:41:57 2019 +0200
Commit:     Marcus Schäfer <marcus.schaefer@gmail.com>
CommitDate: Mon Jul 29 16:46:40 2019 +0200

    Try to find a more generic name
    
    glob match can return, files and directories. We only
    work on files but the variable should not indicate scope
    when there is none

commit d7a15ed6a60b587bbead335a7cfcb4e1d136f574
Author:     Marcus Schäfer <marcus.schaefer@gmail.com>
AuthorDate: Mon Jul 29 16:04:52 2019 +0200
Commit:     Marcus Schäfer <marcus.schaefer@gmail.com>
CommitDate: Mon Jul 29 16:04:52 2019 +0200

    Fixed network setup
    
    The network setup was based on an overlay bind mount of the
    entire /etc/sysconfig/network directory. However that directory
    also contains script code and functions that are used by system
    tools like netconfig. The scripts here are not compatible between
    distributions. Thus the overmount of /etc/sysconfig/network/scripts
    from SLE12 to SLE15 as one example breaks the netconfig tool and
    prevents the update of the /etc/resolv.conf file on network
    restart. Other negative effects of that overmounting are likely.
    Therefore this commit changes the way we inherit the network setup.
    Only the plugin directory and the interface configurations are
    taken from the host, all the rest stays untouched.

commit 653b4754d40c15b7b13508e0a50317ffaf8ee771
Author:     Stefan Knorr <sknorr@suse.de>
AuthorDate: Thu Jul 25 18:26:55 2019 +0200
Commit:     GitHub <noreply@github.com>
CommitDate: Thu Jul 25 18:26:55 2019 +0200

    Language/typo fixes

commit 5dc2a4c446e1c1fcbae437143ac16108a95d50a0
Author:     Robert Schweikert <rjschwei@suse.com>
AuthorDate: Thu Jul 18 09:22:04 2019 -0400
Commit:     Robert Schweikert <rjschwei@suse.com>
CommitDate: Thu Jul 18 09:22:04 2019 -0400

    - User doc
      + Clarification around the choices of invoking the migration process using
        reboot or kexec

commit 8b00b053ac77106383ac5b50d15d5f6eae49e29e
Author:     Marcus Schäfer <marcus.schaefer@gmail.com>
AuthorDate: Thu Jul 18 10:22:31 2019 +0200
Commit:     Marcus Schäfer <marcus.schaefer@gmail.com>
CommitDate: Thu Jul 18 10:22:31 2019 +0200

    Bump version: 1.0.0 → 1.0.1

commit 55d659a640546b1423e984f37f95682f3225ed4a
Author:     Marcus Schäfer <marcus.schaefer@gmail.com>
AuthorDate: Wed Jul 17 15:27:53 2019 +0200
Commit:     Marcus Schäfer <marcus.schaefer@gmail.com>
CommitDate: Wed Jul 17 15:36:53 2019 +0200

    Update documentation
    
    Mention the two methods to start the migration

commit a8ce07cdfde47be48098c8ad592e7926a75ba56c
Author:     Marcus Schäfer <marcus.schaefer@gmail.com>
AuthorDate: Wed Jul 17 15:10:22 2019 +0200
Commit:     Marcus Schäfer <marcus.schaefer@gmail.com>
CommitDate: Wed Jul 17 15:10:22 2019 +0200

    Partially revert the no bootloader based startup
    
    After testing the kexec based implementation to start the
    migration live image, we found that kexec does not work in
    all cloud providers. Especially those using Xen like AWS
    do not work. Thus it's required to keep the alternative
    bootloader based startup sequence

commit 0d2ae449e5c20a575bdef9638025e8f91620bf31
Author:     Marcus Schäfer <marcus.schaefer@gmail.com>
AuthorDate: Wed Jul 17 11:36:26 2019 +0200
Commit:     Marcus Schäfer <marcus.schaefer@gmail.com>
CommitDate: Wed Jul 17 11:37:01 2019 +0200

    Bump version: 0.6.5 → 1.0.0

commit 3f10a6635711259407eb83a8d33d9037d2154fb7
Author:     Marcus Schäfer <marcus.schaefer@gmail.com>
AuthorDate: Mon Jul 15 18:26:04 2019 +0200
Commit:     Marcus Schäfer <marcus.schaefer@gmail.com>
CommitDate: Wed Jul 17 10:56:39 2019 +0200

    Avoid bootloader to run the migration
    
    Instead of a reboot the customer should run the migration
    by calling run_migration. This commit adds a service utility
    to run the migration. The concept is based on kexec and
    avoids the modification to the bootloader setup. This allows
    more flexibility for clouds that runs instances not directly
    through a bootloader and also avoids infinite boot/reboot
    cycles in case of an early error of the migration mount
    service. This Fixes #108

commit 35f2dee9adc6d242cb55ad523b7fccf615bb36cf
Author:     Marcus Schäfer <marcus.schaefer@gmail.com>
AuthorDate: Fri Jul 5 14:25:30 2019 +0200
Commit:     Marcus Schäfer <marcus.schaefer@gmail.com>
CommitDate: Fri Jul 5 14:25:30 2019 +0200

    Bump version: 0.6.4 → 0.6.5

commit d548c7d8cc649fb9f69b198408f679b95f1ed6be
Author:     Marcus Schäfer <marcus.schaefer@gmail.com>
AuthorDate: Fri Jul 5 11:27:05 2019 +0200
Commit:     Marcus Schäfer <marcus.schaefer@gmail.com>
CommitDate: Fri Jul 5 11:27:05 2019 +0200

    Fixup udev reload on rule changes
    
    The current restart sequence is missing the actual set/change
    of device nodes. This also prevented network interface names
    to be added/renamed.

commit 3aacfba2e2a6c2b2911c9f57c1af4c95bca3d4a9
Author:     Marcus Schäfer <marcus.schaefer@gmail.com>
AuthorDate: Mon Jul 1 12:37:00 2019 +0200
Commit:     Marcus Schäfer <marcus.schaefer@gmail.com>
CommitDate: Mon Jul 1 12:37:00 2019 +0200

    Bump version: 0.6.3 → 0.6.4

commit 62149a5af9e39541710c405a28b4e441c640c5c5
Author:     Marcus Schäfer <marcus.schaefer@gmail.com>
AuthorDate: Mon Jul 1 12:36:32 2019 +0200
Commit:     Marcus Schäfer <marcus.schaefer@gmail.com>
CommitDate: Mon Jul 1 12:36:32 2019 +0200

    Fixed post mount service unit file
    
    Wrong path to executable

commit 3bc4cac48a2f8462c13a73d4b85b47fd75f14edb
Author:     Marcus Schäfer <marcus.schaefer@gmail.com>
AuthorDate: Mon Jul 1 09:49:51 2019 +0200
Commit:     Marcus Schäfer <marcus.schaefer@gmail.com>
CommitDate: Mon Jul 1 09:49:51 2019 +0200

    Bump version: 0.6.2 → 0.6.3

commit 4e468ef59f42ec6e81b2fa636f39c7a5d15ccecd
Author:     Marcus Schäfer <marcus.schaefer@gmail.com>
AuthorDate: Fri Jun 28 12:07:36 2019 +0200
Commit:     Marcus Schäfer <marcus.schaefer@gmail.com>
CommitDate: Fri Jun 28 12:07:36 2019 +0200

    Added limitation note as suggested by Robert

commit 898a6834a8fec6b0dcbff6ce75d4a9eb85d09ed7
Author:     Jesus Bermudez Velazquez <jesus.bv@suse.com>
AuthorDate: Wed Jun 26 09:40:10 2019 +0100
Commit:     Jesus Bermudez Velazquez <jesus.bv@suse.com>
CommitDate: Wed Jun 26 09:56:04 2019 +0100

    Rename migration package
    
    Avoid confusion and possible error due to wrong package name.
    
    Fix #122

commit 32ffaa4e436efc1e131329b72d9edf9ba2597409
Author:     Marcus Schäfer <marcus.schaefer@gmail.com>
AuthorDate: Tue Jun 18 09:04:44 2019 +0200
Commit:     Marcus Schäfer <marcus.schaefer@gmail.com>
CommitDate: Tue Jun 18 09:04:44 2019 +0200

    Added doc chapter for new preserve section

commit f78008db59ee87c51e2faa95065e4d60ceff2e30
Author:     Marcus Schäfer <marcus.schaefer@gmail.com>
AuthorDate: Mon Jun 17 17:10:23 2019 +0200
Commit:     Marcus Schäfer <marcus.schaefer@gmail.com>
CommitDate: Mon Jun 17 17:58:42 2019 +0200

    Added post mount service
    
    The post mount service is used to preserve data from the
    system to be migrated into the live migration system directly
    after the mounting of the system to be migrated. It is is
    also responsible for making that data effective in the live
    migration system. The current implementation allows for
    preserving udev rules file and make them active.
    This Fixes #100

commit b0d427edb9f64e059c91423b23b2d4de7ba6de5f
Author:     Jesus Bermudez Velazquez <jesus.bv@suse.com>
AuthorDate: Wed Jun 12 11:24:39 2019 +0100
Commit:     Jesus Bermudez Velazquez <jesus.bv@suse.com>
CommitDate: Wed Jun 12 11:24:39 2019 +0100

    Capitalize steps list

commit 0183ce27e5537ab72fdedfb0ef6bfb7efb37e481
Author:     Jesus Bermudez Velazquez <jesus.bv@suse.com>
AuthorDate: Mon Jun 10 15:21:45 2019 +0100
Commit:     Jesus Bermudez Velazquez <jesus.bv@suse.com>
CommitDate: Tue Jun 11 11:50:41 2019 +0100

    Rename config option to use zypper migration
    
    Rename the option to use zypper migration path, wether a plugin or
    a sub-command is not relevant for the name.
    
    Fixes #118

commit 0cbdd70b7d85725a5d43c2a4430fa649703d17fd
Author:     Marcus Schäfer <marcus.schaefer@gmail.com>
AuthorDate: Fri Jun 7 10:59:28 2019 +0200
Commit:     Marcus Schäfer <marcus.schaefer@gmail.com>
CommitDate: Fri Jun 7 10:59:28 2019 +0200

    Bump version: 0.6.1 → 0.6.2

commit 0cfc7c14400b80fb9779586496e045a381fff21a
Author:     Marcus Schäfer <marcus.schaefer@gmail.com>
AuthorDate: Thu Jun 6 14:59:05 2019 +0200
Commit:     Marcus Schäfer <marcus.schaefer@gmail.com>
CommitDate: Thu Jun 6 14:59:05 2019 +0200

    Update per suggestions by Tom

commit f1bc9d9e007797e5240bdcb6318f02fadf4227c7
Author:     Marcus Schäfer <marcus.schaefer@gmail.com>
AuthorDate: Thu Jun 6 14:24:38 2019 +0200
Commit:     Marcus Schäfer <marcus.schaefer@gmail.com>
CommitDate: Thu Jun 6 14:24:38 2019 +0200

    Update per review by Robert

commit 6752e40690bce4a74a84116df9254a32c276db0e
Author:     Marcus Schäfer <marcus.schaefer@gmail.com>
AuthorDate: Thu Jun 6 08:10:40 2019 +0200
Commit:     Marcus Schäfer <marcus.schaefer@gmail.com>
CommitDate: Thu Jun 6 08:10:40 2019 +0200

    Update per review by Robert

commit d193dcd6b2510771bfa971f8ba60847b6fb751ef
Author:     Marcus Schäfer <marcus.schaefer@gmail.com>
AuthorDate: Wed Jun 5 18:03:29 2019 +0200
Commit:     Marcus Schäfer <marcus.schaefer@gmail.com>
CommitDate: Wed Jun 5 18:03:29 2019 +0200

    update per review by Jesus

commit f342fc9eb3b496a09121bff52b0a7be14ed088b1
Author:     Marcus Schäfer <marcus.schaefer@gmail.com>
AuthorDate: Wed Jun 5 18:00:10 2019 +0200
Commit:     Marcus Schäfer <marcus.schaefer@gmail.com>
CommitDate: Wed Jun 5 18:00:10 2019 +0200

    update per review

commit d7d73d82a6d8b170045b1cf67e7d8b25cbbd6817
Author:     Marcus Schäfer <marcus.schaefer@gmail.com>
AuthorDate: Wed Jun 5 17:37:49 2019 +0200
Commit:     Marcus Schäfer <marcus.schaefer@gmail.com>
CommitDate: Wed Jun 5 17:37:49 2019 +0200

    update per review by Tom

commit bf25af262d43372d1e9e633b6b7a86fa633b8d5d
Author:     Marcus Schäfer <marcus.schaefer@gmail.com>
AuthorDate: Wed Jun 5 17:33:11 2019 +0200
Commit:     Marcus Schäfer <marcus.schaefer@gmail.com>
CommitDate: Wed Jun 5 17:33:11 2019 +0200

    Update per review

commit 88597e3e52e92136685a6c7e22befe4c997a838e
Author:     Marcus Schäfer <marcus.schaefer@gmail.com>
AuthorDate: Wed Jun 5 16:53:21 2019 +0200
Commit:     Marcus Schäfer <marcus.schaefer@gmail.com>
CommitDate: Wed Jun 5 16:53:21 2019 +0200

    Support PARTUUID specifier in fstab

commit 970293461ea046edd5a2b8cbcb7f287a4b7d17a3
Author:     Marcus Schäfer <marcus.schaefer@gmail.com>
AuthorDate: Wed Jun 5 12:51:47 2019 +0200
Commit:     Marcus Schäfer <marcus.schaefer@gmail.com>
CommitDate: Wed Jun 5 12:51:47 2019 +0200

    Update documentation
    
    Added section about possible config file values including
    the explanation for the different zypper install modes.
    This Fixes #99

commit 1abe3d27c5c0551b6ec087d9d142a1df1ae9b69c
Author:     Marcus Schäfer <marcus.schaefer@gmail.com>
AuthorDate: Wed Jun 5 11:15:24 2019 +0200
Commit:     Marcus Schäfer <marcus.schaefer@gmail.com>
CommitDate: Wed Jun 5 11:33:19 2019 +0200

    Allow to skip local fstab paths
    
    If a device path is referenced as local path in the fstab file
    but can't be found on the system, this device path is skipped.
    Usually a device path references a storage node that exists
    as /dev/.. node on the machine. However it's possible to also
    reference files e.g for loop mount in the fstab file. If that
    file reference is not present in the live migration system it
    is ignored because considered harmless. file references in
    fstab are sometimes used for swapfiles or other file mapped
    data. For the purpose of the migration we consider such paths
    as not belonging to the system. This assumption of course
    could be wrong which is why we also write a warning message
    to the log file once this situation is disovered. This
    Fixes #110

commit 5011536fcad7c37202a834bd8755464d9d6b9915
Author:     Marcus Schäfer <marcus.schaefer@gmail.com>
AuthorDate: Wed Jun 5 09:10:20 2019 +0200
Commit:     Marcus Schäfer <marcus.schaefer@gmail.com>
CommitDate: Wed Jun 5 09:10:20 2019 +0200

    Bump version: 0.6.0 → 0.6.1

commit f1ce46f150f8e45454b6b645b00d05c27697fc74
Author:     Jesus Bermudez Velazquez <jesus.bv@suse.com>
AuthorDate: Tue Jun 4 17:36:15 2019 +0100
Commit:     Jesus Bermudez Velazquez <jesus.bv@suse.com>
CommitDate: Tue Jun 4 17:36:15 2019 +0100

    Place network logging in network service

commit 001d5cdba9cdc096118d6aa876f43f9d5c9e6f2b
Author:     Marcus Schäfer <marcus.schaefer@gmail.com>
AuthorDate: Tue Jun 4 17:46:56 2019 +0200
Commit:     Marcus Schäfer <marcus.schaefer@gmail.com>
CommitDate: Tue Jun 4 17:46:56 2019 +0200

    Fixed SSH identity copy
    
    The SSH host identity is provided by the server credentials that
    makes up the fingerprint of that host. However the copy of the
    files should exclude the encrypted private key ssh_host_key which
    can only be read on the origin host. In fact a copy of that file
    to another host will lead to a segfault in sshd and kills the
    connection without any further information.

commit 0169492f10b04b932bb63f14f89f1ecc58a50231
Author:     Jesus Bermudez Velazquez <jesus.bv@suse.com>
AuthorDate: Tue Jun 4 14:25:53 2019 +0100
Commit:     Jesus Bermudez Velazquez <jesus.bv@suse.com>
CommitDate: Tue Jun 4 14:25:53 2019 +0100

    Log bondN info if bonding directory exists

commit 3913247d8e2902c83fba857c50e535ac94f5dcfb
Author:     Tim Serong <tserong@suse.com>
AuthorDate: Tue Jun 4 10:37:07 2019 +0200
Commit:     Tim Serong <tserong@suse.com>
CommitDate: Tue Jun 4 10:46:02 2019 +0200

    Ignore blank lines and comments when parsing fstab

commit 6a5bf1203d5dae41da2366b612664f8025d4397a
Author:     Marcus Schäfer <marcus.schaefer@gmail.com>
AuthorDate: Tue Jun 4 10:38:52 2019 +0200
Commit:     Marcus Schäfer <marcus.schaefer@gmail.com>
CommitDate: Tue Jun 4 10:38:52 2019 +0200

    Bump version: 0.5.30 → 0.6.0

commit 9533d113d2557be8eaa158b7d198500e8658e92d
Author:     Jesus Bermudez Velazquez <jesus.bv@suse.com>
AuthorDate: Thu May 30 12:02:58 2019 +0100
Commit:     Marcus Schäfer <marcus.schaefer@gmail.com>
CommitDate: Tue Jun 4 10:34:55 2019 +0200

    Inherit ssh host keys
    
    The live image creates its ssh host key on boot. However that
    host key does not match the host key from the system to migrate.
    This leads to a warning message on a changed host key when a
    ssh login attempt is made while the migration runs. As the
    migration live system inherits the network setup it should
    also inherit the ssh host key. This Fixes #86

commit fa405e79c8d6c46a9d335bdab82cd4e73b583a98
Author:     Jesus Bermudez Velazquez <jesus.bv@suse.com>
AuthorDate: Sat Jun 1 09:43:03 2019 +0100
Commit:     Jesus Bermudez Velazquez <jesus.bv@suse.com>
CommitDate: Mon Jun 3 12:12:45 2019 +0100

    Provide detailed network information
    
    After network.online target is done, we log
    the network status, interfaces and relevant information.
    
    Fixes #84

commit 58bc2bbca24865110e72c3be9e2e9fa30447f4b4
Author:     Robert Schweikert <rjschwei@suse.com>
AuthorDate: Wed May 29 18:08:19 2019 -0400
Commit:     Marcus Schäfer <marcus.schaefer@gmail.com>
CommitDate: Fri May 31 10:44:05 2019 +0200

    Cosmetic changes to handle error codes from zypper
    
    Make it more explicit to the reader that we treat specific
    values from zypper as errors. Positive side effect is that
    if the list gets longer the condition does not need to
    change

commit a39208ad677e2c29efaa63b79fbced6c88c33381
Author:     Tim Serong <tserong@suse.com>
AuthorDate: Wed May 29 14:12:09 2019 +0200
Commit:     Tim Serong <tserong@suse.com>
CommitDate: Wed May 29 17:12:22 2019 +0200

    Try to mount raid partitions
    
    `lsblk` returns "raid1" (or similar) for /dev/md devices, so we need
    to attempt to mount these as well as regular partitions in case the
    root disk is on mdraid.

commit aa3bb8e45ad62d882d600b21708383517b4d9e2a
Author:     Marcus Schäfer <marcus.schaefer@gmail.com>
AuthorDate: Tue May 14 15:34:02 2019 +0200
Commit:     Jesus Bermudez Velazquez <jesus.bv@suse.com>
CommitDate: Wed May 29 15:12:57 2019 +0100

    User documentation
    
    Add distribution migration system user documentation.
    
    - Caveats and unsupported conditions
    
    - Structure and content for the doc tool chain
    
    - Recommendation about ssh key access
    
    - State that clean up of /etc/issue is needed
    
    - Daps style for suse docs

commit 129744d5b9c6420523520fca8550668523532ea7
Author:     Marcus Schäfer <marcus.schaefer@gmail.com>
AuthorDate: Wed May 29 11:37:12 2019 +0200
Commit:     Marcus Schäfer <marcus.schaefer@gmail.com>
CommitDate: Wed May 29 11:37:12 2019 +0200

    Fix grub setup if root is on a raid device
    
    If the root filesystem is on a raid device the boot parameter
    rd.auto must be passed to the boot such that the dracut raid
    module can setup the raid prior to iso-scan.sh searching
    through the devices. Related to Issue #96

commit d83f8ffb0b8aff4919e9efe88c71557d9f23bee6
Author:     Marcus Schäfer <marcus.schaefer@gmail.com>
AuthorDate: Wed May 29 11:00:03 2019 +0200
Commit:     Marcus Schäfer <marcus.schaefer@gmail.com>
CommitDate: Wed May 29 11:00:03 2019 +0200

    Rebuild grub conf on uninstall of activation rpm
    
    If the activation package is installed a grub config file
    extension is applied. On uninstall of the package that
    extension will be deleted but it only becomes effective
    if the grub config will be rebuild. This Fixes #94

commit 9df4538ad96abbd684ce1688bfce387ab021efa1
Author:     Marcus Schäfer <marcus.schaefer@gmail.com>
AuthorDate: Tue May 28 17:12:40 2019 +0200
Commit:     Marcus Schäfer <marcus.schaefer@gmail.com>
CommitDate: Tue May 28 17:12:40 2019 +0200

    Add support for zypper dup mode
    
    By default the migration system uses the zypper migration plugin
    to migrate the system. This works if the system is SLES registered
    and an upgrade path from SCC exists. For system where this is not
    possible an alternative method can be switched on with the
    custom configuration option use_zypper_migration_plugin set
    to: false. In this mode we just call zypper dup. Please note
    this requires that the user has pre setup the repositories before
    the migration system gets started. This Fixes #72

commit d2acf65781fb44bd8cc696c9e4909e68503054c6
Author:     Tim Serong <tserong@suse.com>
AuthorDate: Tue May 28 15:39:48 2019 +0200
Commit:     Tim Serong <tserong@suse.com>
CommitDate: Tue May 28 15:40:06 2019 +0200

    Use `uniq` when finding root device in grub activation script
    
    If the system is using mdraid on the root disk, the `lsblk` invocation
    will return two lines matching "/$", e.g.:
    
    /dev/md1
    /dev/md1
    
    This then breaks the subsequent `blkid` invocations, so $root_uuid and
    $root_type are set to empty strings.  When you later boot into the
    migration system, grub gives two errors:
    
    error: one argument expected.
    error: no such device: root.
    
    Adding `uniq` fixes this.

commit 870c23f7c180151ca83204c964d46b47b4150352
Author:     Marcus Schäfer <marcus.schaefer@gmail.com>
AuthorDate: Tue May 28 10:40:50 2019 +0200
Commit:     Marcus Schäfer <marcus.schaefer@gmail.com>
CommitDate: Tue May 28 10:47:49 2019 +0200

    Implement import of custom configuration file
    
    Instead of the system-root/etc/sle-migration-service file which
    was used to setup debugging only we now allow the custom config
    file system-root/etc/sle-migration-service.yml whose contents
    gets migrated into the existing /etc/migration-config.yml on
    the live migration host.

commit 08d814e3e5a60a0ab5b04c6eb8ff9eb604d666d8
Author:     Jesus Bermudez Velazquez <jesus.bv@suse.com>
AuthorDate: Fri May 24 13:18:04 2019 +0100
Commit:     Jesus Bermudez Velazquez <jesus.bv@suse.com>
CommitDate: Fri May 24 13:18:04 2019 +0100

    optional file

commit ebb2804d4e124809a6872bf7b70506443aa12804
Author:     Jesus Bermudez Velazquez <jesus.bv@suse.com>
AuthorDate: Fri May 24 13:13:48 2019 +0100
Commit:     Jesus Bermudez Velazquez <jesus.bv@suse.com>
CommitDate: Fri May 24 13:13:48 2019 +0100

    Change debug flag file to option
    
    Before, to stop rebooting it was needed to place a
    file as a debug flag. Now there must be a debug key option set
    in the custom file.

commit d2291e1aecab1ca8db52e78674a183a253724679
Author:     Marcus Schäfer <marcus.schaefer@gmail.com>
AuthorDate: Mon May 6 12:38:16 2019 +0200
Commit:     Marcus Schäfer <marcus.schaefer@gmail.com>
CommitDate: Thu May 23 15:52:45 2019 +0200

    Fixed spec file of activation package
    
    A %install and %build section is required otherwise the
    default contents of those sections applies which leads
    to the creation of a debuginfo setup that failed on a
    noarch package

commit 6cb28645e81197100c15ea73d5e56bf74c3a45aa
Author:     Jesus Bermudez Velazquez <jesus.bv@suse.com>
AuthorDate: Thu May 2 12:15:53 2019 +0100
Commit:     Jesus Bermudez Velazquez <jesus.bv@suse.com>
CommitDate: Thu May 23 11:54:57 2019 +0100

    Update migration product key
    
    Change key name and structure.
    In case of not found migration_product key,
    the migration process will be aborted.

commit 497e5a821dbba2e329ee5806b97845a2205cb033
Author:     Marcus Schäfer <marcus.schaefer@gmail.com>
AuthorDate: Thu May 2 15:38:09 2019 +0200
Commit:     Marcus Schäfer <marcus.schaefer@gmail.com>
CommitDate: Thu May 2 15:38:59 2019 +0200

    Reference commit for SUSE maintenance
    
    This submission creates a reference to fate#327175 and bsc#1133919

commit de2b983f1609f612372ed2d24f95870d854e6a60
Author:     Marcus Schäfer <marcus.schaefer@gmail.com>
AuthorDate: Thu May 2 10:46:31 2019 +0200
Commit:     Marcus Schäfer <marcus.schaefer@gmail.com>
CommitDate: Thu May 2 15:17:05 2019 +0200

    Provide MigrationConfig class
    
    Handling the migration configuration file deserves its own
    class to implement a clear messaging model

commit d33e3b61338d57b0230ddf61c56fce8d71262ff6
Author:     Marcus Schäfer <marcus.schaefer@gmail.com>
AuthorDate: Thu May 2 15:16:38 2019 +0200
Commit:     Marcus Schäfer <marcus.schaefer@gmail.com>
CommitDate: Thu May 2 15:16:38 2019 +0200

    Bump version: 0.5.29 → 0.5.30

commit cc3f0b43dabc45166559953c037dc1fa68ec40af
Author:     Marcus Schäfer <marcus.schaefer@gmail.com>
AuthorDate: Thu May 2 15:14:31 2019 +0200
Commit:     Marcus Schäfer <marcus.schaefer@gmail.com>
CommitDate: Thu May 2 15:14:31 2019 +0200

    Reference commit for SUSE maintenance
    
    This submission creates a reference to fate#327175 and bsc#1133919

commit ef3e2e77219ef6cffd94e8e23824f96f256b5e34
Author:     Marcus Schäfer <marcus.schaefer@gmail.com>
AuthorDate: Wed May 1 19:02:00 2019 +0200
Commit:     Marcus Schäfer <marcus.schaefer@gmail.com>
CommitDate: Wed May 1 19:02:00 2019 +0200

    Bump version: 0.5.28 → 0.5.29

commit 8facf0f7cd08bb312e4a364688c2dc2b2c7b4aac
Author:     Marcus Schäfer <marcus.schaefer@gmail.com>
AuthorDate: Tue Apr 30 11:56:05 2019 +0200
Commit:     Marcus Schäfer <marcus.schaefer@gmail.com>
CommitDate: Wed May 1 19:00:08 2019 +0200

    Fix reboot race condition
    
    The issue described here came up with the package split and
    rename of the activation package. The grub setup service
    deletes the activation package and calls grub2-mkconfig which
    deletes the migration live boot entry as well as updates grub
    to boot the migrated system. However if the activation package
    could not be removed the process ends in a boot loop. Therefore
    one part of this patch makes the removal of the migration
    packages more robust. Another part provides detailed log
    information about the removal and the grub setup in the log
    file.
    
    Last but not least the patch includes a refactoring of the
    umount and reboot process which offers a race condition if
    the grub-setup service has failed. The patch here also
    Delete the umount service and put the code in the reboot
    service. Only on reboot we umount the system. In case of
    debugging we want to have full access to the root of the
    system that should have become migrated. In addition the
    systemd dependency chain for the kernel-load vs. reboot
    service was racy and got fixed by a clear dependency
    for grub-setup -> kernel-load -> reboot

commit 0640a92d6726ffb0b80919d0fa29918cd34e5355
Author:     Marcus Schäfer <marcus.schaefer@gmail.com>
AuthorDate: Tue Apr 30 10:06:28 2019 +0200
Commit:     Marcus Schäfer <marcus.schaefer@gmail.com>
CommitDate: Tue Apr 30 10:06:28 2019 +0200

    Bump version: 0.5.27 → 0.5.28

commit 0a241971478e6f80d0367e9072fb2e66a0d961de
Author:     Marcus Schäfer <marcus.schaefer@gmail.com>
AuthorDate: Tue Apr 30 10:04:59 2019 +0200
Commit:     Marcus Schäfer <marcus.schaefer@gmail.com>
CommitDate: Tue Apr 30 10:04:59 2019 +0200

    Fixed deletion of activation package
    
    Due to the split of the services package the activation
    package name is target specific and needs to be matched
    by a pattern

commit deba6137fc1a0e329e8d247ed776047359e0458f
Author:     Marcus Schäfer <marcus.schaefer@gmail.com>
AuthorDate: Mon Apr 29 11:28:09 2019 +0200
Commit:     Marcus Schäfer <marcus.schaefer@gmail.com>
CommitDate: Mon Apr 29 16:56:22 2019 +0200

    Split activation package from services
    
    From a release process it doesn't make sense to keep the activation
    script as a sub package of the services. The reason is because the
    suse-migration-services package will be released to the migration
    target distribution and the activation package will be released to
    the migration start distribution. Thus the code is relevant on
    different distributions and it is not useful to maintain that in
    one package. This Fixes #74

commit 37ff4f15b72388d3542cad51abaeed561046252e
Author:     Marcus Schäfer <marcus.schaefer@gmail.com>
AuthorDate: Wed Apr 24 17:20:47 2019 +0200
Commit:     Marcus Schäfer <marcus.schaefer@gmail.com>
CommitDate: Wed Apr 24 17:20:47 2019 +0200

    Bump version: 0.5.26 → 0.5.27

commit 41d9c2db0cae1c2341fac4d93a5cecda3e2e9449
Author:     Marcus Schäfer <marcus.schaefer@gmail.com>
AuthorDate: Wed Apr 24 14:50:45 2019 +0200
Commit:     Marcus Schäfer <marcus.schaefer@gmail.com>
CommitDate: Wed Apr 24 16:41:42 2019 +0200

    Fixed network requirement
    
    To come up with a race free network start the setup-host-network
    service has to be called after network.target. This ensures the
    wicked service is already active. An active wicked service allows
    for a reload of the network service. The setup-host-network
    service overmounts /etc/sysconfig/network and reloads the network
    service. That tells the running wicked service to elaborate
    over the new ifcfg configurations and updates the network status.
    In the prepare unit we require the network-online target which
    makes sure it operates only on an online network.

commit 6dd8878d322b4fca46326e4b1c02c8d4437f5b0b
Author:     Marcus Schäfer <marcus.schaefer@gmail.com>
AuthorDate: Fri Apr 12 16:00:07 2019 +0200
Commit:     Marcus Schäfer <marcus.schaefer@gmail.com>
CommitDate: Fri Apr 12 16:00:07 2019 +0200

    Bump version: 0.5.25 → 0.5.26

commit cf6cba32851c87af1f2fb1a962ffc5ced098b552
Author:     Marcus Schäfer <marcus.schaefer@gmail.com>
AuthorDate: Thu Apr 11 14:21:17 2019 +0200
Commit:     Marcus Schäfer <marcus.schaefer@gmail.com>
CommitDate: Fri Apr 12 15:57:39 2019 +0200

    Fix network setup service
    
    The network setup service for the migration inherits the
    network as it is configured on the system to become migrated.
    As part of that process the network is restarted through
    systemctl. However this is a problem because it interferes
    with the network service dependency chain. This could result
    in a failed network startup depending on how fast other
    services e.g dbus are up and running. So the way we do it
    causes a race condition. This commit deletes the network
    startup from our network setup service. Our network setup
    service runs by definition of the unit file before the
    network.target. This means at the time the network service
    activates the network our setup routine is already done and
    a normal network startup should be guaranteed.

commit 2c4ae3cb0487078007d73fc319548cda920894e8
Author:     Marcus Schäfer <marcus.schaefer@gmail.com>
AuthorDate: Wed Apr 10 18:28:43 2019 +0200
Commit:     Marcus Schäfer <marcus.schaefer@gmail.com>
CommitDate: Wed Apr 10 18:28:43 2019 +0200

    Bump version: 0.5.24 → 0.5.25

commit 89946f456548cfb5d95bfaf5a408c771272b5ec5
Author:     Marcus Schäfer <marcus.schaefer@gmail.com>
AuthorDate: Wed Apr 10 11:50:24 2019 +0200
Commit:     Marcus Schäfer <marcus.schaefer@gmail.com>
CommitDate: Wed Apr 10 11:50:24 2019 +0200

    Make sure /var/lib/cloudregister exists
    
    At cloud registration time information about the SMT/RMT server
    is provided below /var/lib/cloudregister. For migration it's
    required to bind mount this path from the system to become
    migrated into the live migration system.

commit b259cedbc8c1ffbaf69d34d22fc1ab74c285b555
Author:     Marcus Schäfer <marcus.schaefer@gmail.com>
AuthorDate: Tue Apr 9 17:56:09 2019 +0200
Commit:     Marcus Schäfer <marcus.schaefer@gmail.com>
CommitDate: Tue Apr 9 17:56:09 2019 +0200

    Support new cloud regionsrv client
    
    The new cloud region service client comes with a plugin for
    zypper that translates repo URIs into a specific plugin format
    such that it's no longer possible to gain access to the SLES
    repositories of our public cloud infrastructure by playing
    tricks with snapshotting an on-demand instance without the
    billingtag. However the new and fancy way makes migration of
    such a system more difficult because the new repo URI format
    must be known to zypper migration. This requires all software
    components to be provided in the live migration image which
    has been done in the image description but furthermore requires
    that the cloud specific /etc/regionserverclnt.cfg and the
    contents of /usr/lib/zypp/plugins from the system to migrate
    are available in the migration live image. The later is
    implemented in this commit and Fixes #69

commit f38cc199bbf2281a48760ca064d4e141c6ba6e66
Author:     Jesus Bermudez Velazquez <jesus.bv@suse.com>
AuthorDate: Tue Mar 26 15:13:03 2019 +0000
Commit:     Jesus Bermudez Velazquez <jesus.bv@suse.com>
CommitDate: Tue Mar 26 15:13:03 2019 +0000

    Bump version: 0.5.23 → 0.5.24

commit 259b9af4d42c6ec2f29fff3b1dddc4529ce188e5
Author:     Jesus Bermudez Velazquez <jesus.bv@suse.com>
AuthorDate: Tue Mar 26 09:21:30 2019 +0000
Commit:     Jesus Bermudez Velazquez <jesus.bv@suse.com>
CommitDate: Tue Mar 26 13:34:18 2019 +0000

    Fix pattern for initrd
    
    Some images have an extra boot partition,
    so there are grub files with '/vmlinuz'
    and we need to handle that case.

commit 9f067f8235862c445faf081bc1cf16288b1793d2
Author:     Jesus Bermudez Velazquez <jesus.bv@suse.com>
AuthorDate: Mon Mar 25 10:12:40 2019 +0000
Commit:     Jesus Bermudez Velazquez <jesus.bv@suse.com>
CommitDate: Mon Mar 25 10:12:40 2019 +0000

    Bump version: 0.5.22 → 0.5.23

commit 35fcd3fa5a16ff30f8d62ab3b1ada45e2097cc47
Author:     Jesus Bermudez Velazquez <jesus.bv@suse.com>
AuthorDate: Fri Mar 22 13:06:06 2019 +0000
Commit:     Jesus Bermudez Velazquez <jesus.bv@suse.com>
CommitDate: Mon Mar 25 09:43:53 2019 +0000

    Copy kernel and initrd for access
    
    It copies the files in-memory so kexec can access them
    once root-path gets umounted.
    
    Fixes #65

commit b38791c57746d6b6524e2cb06586433b507a4910
Author:     Marcus Schäfer <marcus.schaefer@gmail.com>
AuthorDate: Thu Mar 21 16:12:18 2019 +0100
Commit:     Marcus Schäfer <marcus.schaefer@gmail.com>
CommitDate: Thu Mar 21 16:12:18 2019 +0100

    Bump version: 0.5.21 → 0.5.22

commit 576ad4b0786334a7260c9806f19307ee1ee17f1c
Author:     Marcus Schäfer <marcus.schaefer@gmail.com>
AuthorDate: Thu Mar 21 16:05:25 2019 +0100
Commit:     Marcus Schäfer <marcus.schaefer@gmail.com>
CommitDate: Thu Mar 21 16:05:25 2019 +0100

    Fixed dependency for reboot service
    
    The reboot service must be called after mount-service and
    after umount-service. The mount-service handles the setup
    of the debug flag. If the reboot service is too fast the
    debug flag setup is not respected

commit 6584d81776c7514f704cc0572783341d26a51f39
Author:     Marcus Schäfer <marcus.schaefer@gmail.com>
AuthorDate: Thu Mar 21 16:02:12 2019 +0100
Commit:     Marcus Schäfer <marcus.schaefer@gmail.com>
CommitDate: Thu Mar 21 16:02:12 2019 +0100

    Fixed logging to logfile
    
    The setup of the logfile has to be done on each service
    at import time. Each service is an extra python call
    done by systemd. The setup of the logfile needs to be done
    as an initializer for any unit invocation

commit 025879a37e642d9796172004bcdf6eeaa2ebedd1
Author:     Marcus Schäfer <marcus.schaefer@gmail.com>
AuthorDate: Thu Mar 21 14:04:24 2019 +0100
Commit:     Marcus Schäfer <marcus.schaefer@gmail.com>
CommitDate: Thu Mar 21 14:04:24 2019 +0100

    Bump version: 0.5.20 → 0.5.21

commit 1490d21a9c5e3e5060969d4b33485e4759e77579
Author:     Marcus Schäfer <marcus.schaefer@gmail.com>
AuthorDate: Thu Mar 21 12:13:08 2019 +0100
Commit:     Marcus Schäfer <marcus.schaefer@gmail.com>
CommitDate: Thu Mar 21 14:03:30 2019 +0100

    Added systemctl status output to logfile
    
    As part of the reboot service add the systemctl status information
    collected up to that point into the logfile.

commit b378807cd2fda9bfa20bd76054812ff297746460
Author:     Marcus Schäfer <marcus.schaefer@gmail.com>
AuthorDate: Thu Mar 21 10:56:33 2019 +0100
Commit:     Marcus Schäfer <marcus.schaefer@gmail.com>
CommitDate: Thu Mar 21 10:56:33 2019 +0100

    Fixed log reference in console log service
    
    The systemd unit file was still pointing to the old file
    name but that has changed to var/log/distro_migration.log

commit 7e92a73f889ad73d90e50a601d47e2c296b78071
Author:     Marcus Schäfer <marcus.schaefer@gmail.com>
AuthorDate: Thu Mar 21 10:47:37 2019 +0100
Commit:     Marcus Schäfer <marcus.schaefer@gmail.com>
CommitDate: Thu Mar 21 10:47:37 2019 +0100

    Initialize logging and debug as early as possible
    
    The earliest opportunity to setup the log file and the
    debug flag is directly after the mount-system code has
    successfully mounted the target to migrate. At this point
    we should init the logfile and also the debugging if
    needed. The code before this commit has potential to
    not even reach the log/debug setup. With this commit
    the only requirement is a successful mount of the target
    system.

commit 1ede53c059fda27f7c1786c60ab8a9bfa608f5eb
Author:     Jesus Bermudez Velazquez <jesus.bv@suse.com>
AuthorDate: Wed Mar 20 17:56:29 2019 +0000
Commit:     Jesus Bermudez Velazquez <jesus.bv@suse.com>
CommitDate: Wed Mar 20 18:16:05 2019 +0000

    Add option to handle file conflicts
    
    In the scenario where there are packaging bugs,
    this option install packages even if they
    replaces files from other packages.
    
    Fixes #58

commit 6b9c39044d0d603e09896079266c225d43c88733
Author:     Marcus Schäfer <marcus.schaefer@gmail.com>
AuthorDate: Wed Mar 20 18:10:00 2019 +0100
Commit:     Marcus Schäfer <marcus.schaefer@gmail.com>
CommitDate: Wed Mar 20 18:10:00 2019 +0100

    Bump version: 0.5.19 → 0.5.20

commit f9ab644a1d7e6bf1d3d08245535078f1356cb5b6
Author:     Marcus Schäfer <marcus.schaefer@gmail.com>
AuthorDate: Wed Mar 20 17:51:58 2019 +0100
Commit:     Marcus Schäfer <marcus.schaefer@gmail.com>
CommitDate: Wed Mar 20 17:51:58 2019 +0100

    Fixed handling of debug flag file
    
    If this file is present we want to stay in the migration system
    no matter what happened. This is urgently required to keep us
    with a way to debug the process. Current testing has shown that
    only the log file is not enough to debug the complete pipeline.

commit de22ffb9320fdb95e6312589986693311d82a023
Author:     Jesus Bermudez Velazquez <jesus.bv@suse.com>
AuthorDate: Fri Mar 15 14:57:46 2019 +0000
Commit:     Jesus Bermudez Velazquez <jesus.bv@suse.com>
CommitDate: Fri Mar 15 14:57:46 2019 +0000

    Bump version: 0.5.18 → 0.5.19

commit 77276c29c5c2039ceaded76f2ed055b3767cf229
Author:     Jesus Bermudez Velazquez <jesus.bv@suse.com>
AuthorDate: Fri Mar 15 08:06:34 2019 +0000
Commit:     Jesus Bermudez Velazquez <jesus.bv@suse.com>
CommitDate: Fri Mar 15 08:06:34 2019 +0000

    Add flag to handle zypper migration errors
    
    Zypper has extra error codes that does not necessarily have to
    stop a distribution migration.
    
    Fixes #52

commit 80a42c5fe2e9c754f3bafed2147a3b8d03f5d63a
Author:     Jesus Bermudez Velazquez <jesus.bv@suse.com>
AuthorDate: Thu Mar 7 16:29:29 2019 +0000
Commit:     Jesus Bermudez Velazquez <jesus.bv@suse.com>
CommitDate: Thu Mar 7 16:29:29 2019 +0000

    Bump version: 0.5.17 → 0.5.18

commit 218994fe252f252b8b26ed6fd34561319cafd634
Author:     Jesus Bermudez Velazquez <jesus.bv@suse.com>
AuthorDate: Thu Mar 7 12:14:08 2019 +0000
Commit:     Jesus Bermudez Velazquez <jesus.bv@suse.com>
CommitDate: Thu Mar 7 12:14:08 2019 +0000

    Path for log file
    
    After reboot, if the migration has failed, the file
    /etc/issue has a message pointing to the log file.
    The path of that log file must exist inside the rebooted system.

commit 0fda74eef8ef22db74f086956bbb91241131d71f
Author:     Marcus Schäfer <marcus.schaefer@gmail.com>
AuthorDate: Tue Mar 5 09:19:07 2019 +0100
Commit:     Marcus Schäfer <marcus.schaefer@gmail.com>
CommitDate: Tue Mar 5 09:19:07 2019 +0100

    Bump version: 0.5.16 → 0.5.17

commit 72378fbfe5f6e82c6fbde9d40942acf78defad66
Author:     Marcus Schäfer <marcus.schaefer@gmail.com>
AuthorDate: Mon Mar 4 14:13:57 2019 +0100
Commit:     Marcus Schäfer <marcus.schaefer@gmail.com>
CommitDate: Mon Mar 4 14:24:36 2019 +0100

    Add rootpart detection to grub activation script
    
    The live migration image gets installed to the system again
    because of the space limitation on /boot. This affects the
    menuentry created on grub side in a way that we can't use
    the pre-allocated pointer to the boot device but have to search
    the root partition like in a real grub root entry. This patch
    adds the needed code changes to locate the root part, insert
    the needed filesystem module and initializes the root variable
    to allow the loopback loading of the image. This Fixes #54

commit 8efee0e1fbb818cdef0ee3c808576a4c52c15045
Author:     Marcus Schäfer <marcus.schaefer@gmail.com>
AuthorDate: Mon Mar 4 13:40:57 2019 +0100
Commit:     Marcus Schäfer <marcus.schaefer@gmail.com>
CommitDate: Mon Mar 4 13:40:57 2019 +0100

    Revert location change from /usr/share to /boot
    
    This reverts commit 66dd8d4943d38f121f4b16b70bf0ab8d0b2ec82d.
    If there is an extra boot partition and it's too small we
    are not able to install the migration system and the customer
    will not be able to use the migration concept. The image is
    usually around ~300MB of size and that can often be too much
    for an extra boot partition which is often designed to be small

commit 2c6c27a16b21e0c9f169e0801e2329428fdc9d27
Author:     Jesus Bermudez Velazquez <jesus.bv@suse.com>
AuthorDate: Fri Mar 1 13:57:07 2019 +0000
Commit:     Jesus Bermudez Velazquez <jesus.bv@suse.com>
CommitDate: Fri Mar 1 13:57:07 2019 +0000

    Bump version: 0.5.15 → 0.5.16

commit 08d5257da664032fccffdb669e2278cbc4acdea0
Author:     Jesus Bermudez Velazquez <jesus.bv@suse.com>
AuthorDate: Wed Feb 20 11:35:36 2019 +0000
Commit:     Jesus Bermudez Velazquez <jesus.bv@suse.com>
CommitDate: Sun Feb 24 21:28:32 2019 +0000

    Right path for debug file
    
    Copy debug file in a different path so reboot code
    can read that location in case of debugging.

commit 2fa38573f0c6b7a1390c797dda70df57878de3e4
Author:     Marcus Schäfer <marcus.schaefer@gmail.com>
AuthorDate: Tue Feb 19 08:59:29 2019 +0100
Commit:     Marcus Schäfer <marcus.schaefer@gmail.com>
CommitDate: Tue Feb 19 08:59:29 2019 +0100

    Bump version: 0.5.14 → 0.5.15

commit 3dac25c9dbe93e825ff421973b1b1f1b5c17a38c
Author:     Jesus Bermudez Velazquez <jesus.bv@suse.com>
AuthorDate: Wed Feb 13 11:12:11 2019 +0000
Commit:     Jesus Bermudez Velazquez <jesus.bv@suse.com>
CommitDate: Mon Feb 18 17:05:48 2019 +0000

    Reboot system after migration unless debug
    
    The migration process will reboot the system whether it has succeeded or not
    unless there is a file indicating not to reboot.
    
    Fixes #48

commit 6dbb56a07e5d206976a4b08dc26c0b311ec4f261
Author:     Marcus Schäfer <marcus.schaefer@gmail.com>
AuthorDate: Tue Feb 12 10:50:47 2019 +0100
Commit:     Marcus Schäfer <marcus.schaefer@gmail.com>
CommitDate: Tue Feb 12 10:50:47 2019 +0100

    Bump version: 0.5.13 → 0.5.14

commit 0e6e2b956a39b15b49bd09dea25445616989f4cd
Author:     Jesus Bermudez Velazquez <jesus.bv@suse.com>
AuthorDate: Mon Feb 11 12:39:21 2019 +0000
Commit:     Jesus Bermudez Velazquez <jesus.bv@suse.com>
CommitDate: Mon Feb 11 14:46:06 2019 +0000

    Report migration error in /etc/issue
    
    In order to be able to reboot and still report errors in case the migration fails,
    the error will be reported in a log file (/var/log/distro_migration.log).
    The message and log file name to check will be indicated in /etc/issue.
    
    Fixes #47

commit 4c539f7a9b3d9a089ac90ce26439629de6d5326d
Author:     Marcus Schäfer <marcus.schaefer@gmail.com>
AuthorDate: Fri Feb 8 11:18:28 2019 +0100
Commit:     Marcus Schäfer <marcus.schaefer@gmail.com>
CommitDate: Fri Feb 8 11:18:28 2019 +0100

    Bump version: 0.5.12 → 0.5.13

commit 16d900d10a55529f1a225860129a721690d8f9b0
Author:     Jesus Bermudez Velazquez <jesus.bv@suse.com>
AuthorDate: Fri Feb 8 09:21:09 2019 +0000
Commit:     Jesus Bermudez Velazquez <jesus.bv@suse.com>
CommitDate: Fri Feb 8 09:21:09 2019 +0000

    Rename migration log file
    
    As zypper is part of the process but not the only
    component, 'zypper_migration.log' does not describe it properly.

commit 94d7ea326b1228e6d0b261a052bce3ea1fe16a4f
Author:     Marcus Schäfer <marcus.schaefer@gmail.com>
AuthorDate: Fri Jan 25 16:01:07 2019 +0100
Commit:     Marcus Schäfer <marcus.schaefer@gmail.com>
CommitDate: Fri Jan 25 16:01:07 2019 +0100

    Bump version: 0.5.11 → 0.5.12

commit 66dd8d4943d38f121f4b16b70bf0ab8d0b2ec82d
Author:     Marcus Schäfer <marcus.schaefer@gmail.com>
AuthorDate: Fri Jan 25 11:12:22 2019 +0100
Commit:     Marcus Schäfer <marcus.schaefer@gmail.com>
CommitDate: Fri Jan 25 11:12:22 2019 +0100

    Change location for live migration ISO image
    
    Instead of /usr/share expect the image in /boot. The reason
    for this change is because we don't know if the system uses
    an extra boot partition to load the kernel and initrd from.
    However the way we add the extra loop boot entry to grub
    is based on reading the value for ($root) as it was configured
    on the system. The location ($root) points to in grub could
    be anywhere but we can trust /boot to be in there.
    This Fixes the run of the migration in Azure and also
    stabilizes the concept.

commit 3e0051d73f1b176e9ee23a75c787afdb2b0f4ae2
Author:     Marcus Schäfer <marcus.schaefer@gmail.com>
AuthorDate: Tue Jan 22 17:32:32 2019 +0100
Commit:     Marcus Schäfer <marcus.schaefer@gmail.com>
CommitDate: Tue Jan 22 17:32:32 2019 +0100

    Bump version: 0.5.10 → 0.5.11

commit 49de8aa0fca632f34638501fbc50fb8bbac1cc2c
Author:     Jesus Bermudez Velazquez <jesus.bv@suse.com>
AuthorDate: Thu Jan 17 13:46:43 2019 +0000
Commit:     Jesus Bermudez Velazquez <jesus.bv@suse.com>
CommitDate: Tue Jan 22 15:48:03 2019 +0000

    Detection of baseproduct
    
    Find the .prod files inside /etc/products.d
    which does not contain a flavor tag.
    
    Remove the target registration in that .prod file.

commit 835b4e7c0f7e758b9f793d355e32fe3d16630aac
Author:     Marcus Schäfer <marcus.schaefer@gmail.com>
AuthorDate: Wed Jan 16 15:02:47 2019 +0100
Commit:     Marcus Schäfer <marcus.schaefer@gmail.com>
CommitDate: Wed Jan 16 15:02:47 2019 +0100

    Bump version: 0.5.9 → 0.5.10

commit 7cd3460d8ce5d3a203eb36aa224ad1fd1d9878e9
Author:     Marcus Schäfer <marcus.schaefer@gmail.com>
AuthorDate: Wed Jan 16 11:39:55 2019 +0100
Commit:     Marcus Schäfer <marcus.schaefer@gmail.com>
CommitDate: Wed Jan 16 11:39:55 2019 +0100

    Revert/Refactor distro_target handling
    
    zypper implements a handling for the distro_target attribute.
    If present in the repository metadata, zypper compares the
    value with the baseproduct <target> setup in /etc/products.d.
    If they mismatch zypper refuses to create the repo. In the
    process of a migration from distribution [A] to [B] this mismatch
    always applies by design and prevents the zypper migration plugin
    to work. In SCC or RMT the repositories doesn't contain the
    distro_target attribute which is the reason why we don't see
    this problem there. SMT however creates repos including
    distro_target.
    
    The refactored workaround solution is now to delete the target
    specification in the baseproduct registration if present, because
    the overlay mounting of etc/products.d did not work as it would
    lead to a wrong upgrade path on response from SCC.
    
    In addition a backup of the original products.d data is created
    and used in the zypper migration plugin in case of an error

commit dd6250183fbcbaabf27496fc475acdcffd55249e
Author:     Marcus Schäfer <marcus.schaefer@gmail.com>
AuthorDate: Wed Jan 16 09:06:55 2019 +0100
Commit:     Marcus Schäfer <marcus.schaefer@gmail.com>
CommitDate: Wed Jan 16 09:06:55 2019 +0100

    Bump version: 0.5.8 → 0.5.9

commit 2ee3521a630bf83a674c98b4bb9a2da516e96f35
Author:     Marcus Schäfer <marcus.schaefer@gmail.com>
AuthorDate: Tue Jan 15 20:02:36 2019 +0100
Commit:     Marcus Schäfer <marcus.schaefer@gmail.com>
CommitDate: Tue Jan 15 20:02:36 2019 +0100

    Added comments to explain the driver of the change

commit ef4f57eddd6c2461b53db73afd74a67964e1c0e5
Author:     Marcus Schäfer <marcus.schaefer@gmail.com>
AuthorDate: Tue Jan 15 17:39:16 2019 +0100
Commit:     Marcus Schäfer <marcus.schaefer@gmail.com>
CommitDate: Tue Jan 15 17:39:16 2019 +0100

    Added product setup service
    
    During migration etc/products is a bind mounted location
    to handle the distro_target issue. At the end of a successful
    migration the data written to that location must be synced
    into the migrated system. This task is done by the product
    service

commit c518f844f26b7a84fd42497de0b1b512cdaa814d
Author:     Marcus Schäfer <marcus.schaefer@gmail.com>
AuthorDate: Tue Jan 15 17:11:34 2019 +0100
Commit:     Marcus Schäfer <marcus.schaefer@gmail.com>
CommitDate: Tue Jan 15 17:11:34 2019 +0100

    Handle distro_target
    
    Long time ago zypper added a distro_target information into
    the repository file and matches those with the product
    information of the system. If the distro doesn't match
    zypper refused to create the repository. In the migration
    process using SMT this caused the zypper migration plugin
    to fail because zypper never created repositories. That's
    because in a migration process the repository and the
    system to migrate never match. Therefore we bind mount
    the /etc/products.d information from the migration live
    system into the /system-root of the system to become
    migrated. At the end of a successful migration the new
    product information is copied to the migrated system

commit 72e4f798fbaf96de2e9756debf2123fe45f41232
Author:     Marcus Schäfer <marcus.schaefer@gmail.com>
AuthorDate: Tue Jan 15 09:14:53 2019 +0100
Commit:     Marcus Schäfer <marcus.schaefer@gmail.com>
CommitDate: Tue Jan 15 09:14:53 2019 +0100

    Bump version: 0.5.7 → 0.5.8

commit 58deb82fd5779d5cfcfa6b25e830103efa17819e
Author:     Marcus Schäfer <marcus.schaefer@gmail.com>
AuthorDate: Tue Jan 15 09:13:44 2019 +0100
Commit:     Marcus Schäfer <marcus.schaefer@gmail.com>
CommitDate: Tue Jan 15 09:13:44 2019 +0100

    Fixed handling of os.listdir result
    
    os.listdir only returns the names of the files in the
    directory. Thus the file reference in the subsequent
    copy call was wrong.

commit a5b44e3f31c8bc47b3d15ac89ce15a6a18da70d9
Author:     Marcus Schäfer <marcus.schaefer@gmail.com>
AuthorDate: Tue Jan 15 08:24:09 2019 +0100
Commit:     Marcus Schäfer <marcus.schaefer@gmail.com>
CommitDate: Tue Jan 15 08:24:09 2019 +0100

    Bump version: 0.5.6 → 0.5.7

commit c92bb5c58052725a1c4ea8d1ff9bef9d25210069
Author:     Marcus Schäfer <marcus.schaefer@gmail.com>
AuthorDate: Mon Jan 14 16:58:06 2019 +0100
Commit:     Marcus Schäfer <marcus.schaefer@gmail.com>
CommitDate: Mon Jan 14 17:00:28 2019 +0100

    Import certificates
    
    Copy certificates from /usr/share/pki/trust/anchors of the
    system to become migrated into the live migration system
    and update the certificate pool. This Fixes #37

commit ff66c77d43faeb809175403791b08b43acea4275
Author:     Marcus Schäfer <marcus.schaefer@gmail.com>
AuthorDate: Mon Jan 14 15:56:48 2019 +0100
Commit:     Marcus Schäfer <marcus.schaefer@gmail.com>
CommitDate: Mon Jan 14 15:56:48 2019 +0100

    Bump version: 0.5.5 → 0.5.6

commit 25ba64f9502d851a5a9fd96122a81cafe7389a22
Author:     Marcus Schäfer <marcus.schaefer@gmail.com>
AuthorDate: Mon Jan 14 15:56:12 2019 +0100
Commit:     Marcus Schäfer <marcus.schaefer@gmail.com>
CommitDate: Mon Jan 14 15:56:12 2019 +0100

    Fixed console log service
    
    The systemd unit file was missing an install target

commit e1bd7e9aba9f716ad2c423debe02f7e3eadb5797
Author:     Marcus Schäfer <marcus.schaefer@gmail.com>
AuthorDate: Mon Jan 14 15:30:22 2019 +0100
Commit:     Marcus Schäfer <marcus.schaefer@gmail.com>
CommitDate: Mon Jan 14 15:30:22 2019 +0100

    Bump version: 0.5.4 → 0.5.5

commit 52d230f243f90792a3c94c5608cdec0cd85de556
Author:     Marcus Schäfer <marcus.schaefer@gmail.com>
AuthorDate: Mon Jan 14 15:26:53 2019 +0100
Commit:     Marcus Schäfer <marcus.schaefer@gmail.com>
CommitDate: Mon Jan 14 15:26:53 2019 +0100

    Changed service type for console logger
    
    Move to simple type service and set a restart policy.
    The way the console logger was started before caused
    a stop of the service as soon as the kernel or some
    other program logs information on the console. However
    during migration we want the console logger to be
    actively occupy the console such that it's clear a
    migration process is currently running

commit b1271a320449dd94629504ac9d670b301a24be8f
Author:     Marcus Schäfer <marcus.schaefer@gmail.com>
AuthorDate: Mon Jan 14 15:08:59 2019 +0100
Commit:     Marcus Schäfer <marcus.schaefer@gmail.com>
CommitDate: Mon Jan 14 15:08:59 2019 +0100

    Bump version: 0.5.3 → 0.5.4

commit 0a35c3494cbb87355e5fba2198d92557327466a4
Author:     Marcus Schäfer <marcus.schaefer@gmail.com>
AuthorDate: Mon Jan 14 14:59:53 2019 +0100
Commit:     Marcus Schäfer <marcus.schaefer@gmail.com>
CommitDate: Mon Jan 14 14:59:53 2019 +0100

    Fixed console log service
    
    Allow to start console log at any time. Make sure it starts
    after prepare but do not require prepare as it causes the
    prepare service to be called again.

commit 9c2dde1e01114201e6aa24e4940938c88e2a263a
Author:     Marcus Schäfer <marcus.schaefer@gmail.com>
AuthorDate: Mon Jan 14 11:47:51 2019 +0100
Commit:     Marcus Schäfer <marcus.schaefer@gmail.com>
CommitDate: Mon Jan 14 11:47:51 2019 +0100

    Bump version: 0.5.2 → 0.5.3

commit 329ad1491d8e23e30511c0127660b604e71b3720
Author:     Marcus Schäfer <marcus.schaefer@gmail.com>
AuthorDate: Mon Jan 14 09:58:04 2019 +0100
Commit:     Marcus Schäfer <marcus.schaefer@gmail.com>
CommitDate: Mon Jan 14 09:58:04 2019 +0100

    Update prepare service on hosts file
    
    In the cloud the translation from a name into an IP might also
    be configured via the static etc/hosts file. In case of SUSE's
    public cloud infrastructure the connected smt server is
    configured that way at registration time. For the migration
    process this means that this information must be present otherwise
    the host to upgrade cannot be resolved.

commit 1dff8b6e3b8276ffad358da7962c1688603de47c
Author:     Marcus Schäfer <marcus.schaefer@gmail.com>
AuthorDate: Mon Jan 14 09:07:30 2019 +0100
Commit:     Marcus Schäfer <marcus.schaefer@gmail.com>
CommitDate: Mon Jan 14 09:07:30 2019 +0100

    Don't truncate migration log file
    
    If the zypper based migration process runs it truncates the
    so far written logfile information. We want to keep all logging
    data, thus the zypper call has to append information to the
    existing log file and not overwrite them.

commit 66cc8f2ac67bea048027a728893a8dddc4e6affb
Author:     Marcus Schäfer <marcus.schaefer@gmail.com>
AuthorDate: Mon Jan 14 09:05:56 2019 +0100
Commit:     Marcus Schäfer <marcus.schaefer@gmail.com>
CommitDate: Mon Jan 14 09:05:56 2019 +0100

    Fixed executable path in console log service
    
    systemd requires an absolute path to the called program.
    This patch fixes the path to the dialog program such
    that systemd calls it

commit 940f31705993c303398d86cdcc6fb53f79afb5f0
Author:     Marcus Schäfer <marcus.schaefer@gmail.com>
AuthorDate: Fri Jan 11 10:59:03 2019 +0100
Commit:     Marcus Schäfer <marcus.schaefer@gmail.com>
CommitDate: Fri Jan 11 10:59:03 2019 +0100

    Bump version: 0.5.1 → 0.5.2

commit f5c854b771d12193bff5198017e7dc3b20e49a84
Author:     Jesus Bermudez Velazquez <jesus.bv@suse.com>
AuthorDate: Tue Jan 8 14:32:02 2019 +0000
Commit:     Jesus Bermudez Velazquez <jesus.bv@suse.com>
CommitDate: Thu Jan 10 11:52:04 2019 +0000

    Mount kernel file systems inside /system-root
    
    The file systems were previously mounted in grub
    service but because the migration service needs to
    have access proc, dev and sys inside system-root
    (e.g. when updating the bootloader) they are mounted
    in an earlier step. There is no need to mount them
    again in grub. They are unmounted properly before
    rebooting.
    
    This Fixes #32

commit a21b105996ca7051e9c3fde1062885ec2b66dc8f
Author:     Marcus Schäfer <marcus.schaefer@gmail.com>
AuthorDate: Mon Jan 7 11:15:24 2019 +0100
Commit:     Marcus Schäfer <marcus.schaefer@gmail.com>
CommitDate: Mon Jan 7 11:15:24 2019 +0100

    Bump version: 0.5.0 → 0.5.1

commit a38cab99c2afd873d37c1edd94e8733e15638767
Author:     Marcus Schäfer <marcus.schaefer@gmail.com>
AuthorDate: Sun Dec 30 15:25:34 2018 +0100
Commit:     Marcus Schäfer <marcus.schaefer@gmail.com>
CommitDate: Sun Dec 30 15:25:34 2018 +0100

    Fix log file initialization
    
    We agreed on writing the log file into the root filesystem
    of the system to migrate. This implies that the first time
    to initialize this log file is in the prepare service
    after the mount system service has succeeded. Calling
    set_logfile in the mount system service before the system
    got mounted is the wrong place. This patch fixes this
    and also improves the unit test for this condition.

commit 264a39a1dc22a8cd2ddf1e8bd3c138b683dab948
Author:     Marcus Schäfer <marcus.schaefer@gmail.com>
AuthorDate: Wed Dec 19 12:19:42 2018 +0100
Commit:     Marcus Schäfer <marcus.schaefer@gmail.com>
CommitDate: Wed Dec 19 12:19:42 2018 +0100

    Bump version: 0.4.3 → 0.5.0

commit ed8b01cb1401ed33cdee058009527fde5342d2d7
Author:     Jesus Bermudez Velazquez <jesus.bv@suse.com>
AuthorDate: Tue Dec 18 16:59:25 2018 +0000
Commit:     GitHub <noreply@github.com>
CommitDate: Tue Dec 18 16:59:25 2018 +0000

    Migration file (#30)
    
    * Add migration file
    
    This file is used to document the migration process inside the system.
    
    * Add logging for the services

commit a8123580feaf0e4dc3e734462b49fbf9e85c16c6
Author:     Marcus Schäfer <marcus.schaefer@gmail.com>
AuthorDate: Tue Dec 11 16:13:16 2018 +0100
Commit:     Marcus Schäfer <marcus.schaefer@gmail.com>
CommitDate: Tue Dec 11 16:13:16 2018 +0100

    Require dialog package in spec file

commit d0cb20530c42e6571d5ed936edb099300f3aa2f8
Author:     Marcus Schäfer <marcus.schaefer@gmail.com>
AuthorDate: Tue Dec 11 15:33:49 2018 +0100
Commit:     Marcus Schäfer <marcus.schaefer@gmail.com>
CommitDate: Tue Dec 11 15:33:49 2018 +0100

    Added zypper migration console logging
    
    If the migration process starts the console should show a
    progress information. We use a dialog tailbox which shows
    the output of the zypper migration plugin while it runs.
    The output is processed using a systemd service connected
    to the console. In addition the log file
    
        var/log/zypper_migrate.log
    
    Is created inside of the system which gets migrated. This
    allows for later inspection of what the migration plugin
    did. This Fixes #27

commit e48e2bf00ca0ea25a02d7a6c59abea739bd09651
Author:     Marcus Schäfer <marcus.schaefer@gmail.com>
AuthorDate: Fri Dec 7 11:11:24 2018 +0100
Commit:     Marcus Schäfer <marcus.schaefer@gmail.com>
CommitDate: Fri Dec 7 11:11:24 2018 +0100

    Bump version: 0.4.2 → 0.4.3

commit acde7e85be579ce6adc66a08a890a4bd36dad04c
Author:     Marcus Schäfer <marcus.schaefer@gmail.com>
AuthorDate: Fri Dec 7 11:10:51 2018 +0100
Commit:     Marcus Schäfer <marcus.schaefer@gmail.com>
CommitDate: Fri Dec 7 11:10:51 2018 +0100

    Fixed typo in spec file
    
    syse vs. suse

commit 8ebec74149586a5fe84ba5f40880d08d61ba5e42
Author:     Marcus Schäfer <marcus.schaefer@gmail.com>
AuthorDate: Fri Dec 7 11:05:40 2018 +0100
Commit:     Marcus Schäfer <marcus.schaefer@gmail.com>
CommitDate: Fri Dec 7 11:05:40 2018 +0100

    Bump version: 0.4.1 → 0.4.2

commit 7ebd4606737244fc397b0b976308e1af5159a4aa
Author:     Marcus Schäfer <marcus.schaefer@gmail.com>
AuthorDate: Fri Dec 7 11:04:56 2018 +0100
Commit:     Marcus Schäfer <marcus.schaefer@gmail.com>
CommitDate: Fri Dec 7 11:04:56 2018 +0100

    Fixed spec file
    
    Missing installation of ssh service systemd unit file

commit 92cb16531a31d05469ee65c07d84e455e5889133
Author:     Marcus Schäfer <marcus.schaefer@gmail.com>
AuthorDate: Fri Dec 7 11:00:41 2018 +0100
Commit:     Marcus Schäfer <marcus.schaefer@gmail.com>
CommitDate: Fri Dec 7 11:00:41 2018 +0100

    Bump version: 0.4.0 → 0.4.1

commit 03ce96c46d0dfbabf63303168f822b1dd2bd553c
Author:     Jesus Bermudez Velazquez <jesus.bv@suse.com>
AuthorDate: Wed Dec 5 15:05:08 2018 +0000
Commit:     Jesus Bermudez Velazquez <jesus.bv@suse.com>
CommitDate: Fri Dec 7 09:41:50 2018 +0000

    Provide ssh access
    
    Copy the authorized key files into the authorized key file
    of migration user to be able to access through ssh.
    This checks in /home and /root paths.
    Fixes #26

commit 24c9f6197c828af7e006330fc82982de31212f78
Author:     Jesus Bermudez Velazquez <jesus.bv@suse.com>
AuthorDate: Wed Dec 5 15:00:34 2018 +0000
Commit:     Jesus Bermudez Velazquez <jesus.bv@suse.com>
CommitDate: Wed Dec 5 15:00:34 2018 +0000

    Proper class name for test

commit eb2c8b92de9d3019094458809f18ba07e28280a3
Author:     Marcus Schäfer <marcus.schaefer@gmail.com>
AuthorDate: Thu Nov 29 09:45:03 2018 +0100
Commit:     Marcus Schäfer <marcus.schaefer@gmail.com>
CommitDate: Thu Nov 29 09:45:03 2018 +0100

    Bump version: 0.3.6 → 0.4.0

commit 6b79be82f70e4f8141d1834765b51ffce2e2a223
Author:     Marcus Schäfer <marcus.schaefer@gmail.com>
AuthorDate: Wed Nov 28 17:15:00 2018 +0100
Commit:     Marcus Schäfer <marcus.schaefer@gmail.com>
CommitDate: Wed Nov 28 17:15:00 2018 +0100

    Refactor reboot system
    
    The system gets rebooted via kexec or if failed by a hard reboot.
    For kexec it's required to load kernel, initrd and boot parameters
    from the migrated system. Thus the kexec load must be done before
    umount of the system and the actual reboot after umount of the
    system. Therefore this patch splits the kernel-reboot service
    into two services, whereas the umount service will be called
    in between of them.

commit 5ab16b01ce0a86316f29403f6b8427c1e321b7ba
Author:     Marcus Schäfer <marcus.schaefer@gmail.com>
AuthorDate: Wed Nov 28 16:49:27 2018 +0100
Commit:     Marcus Schäfer <marcus.schaefer@gmail.com>
CommitDate: Wed Nov 28 16:49:27 2018 +0100

    Fixup ExecStart in kernel reboot service
    
    The binary is named suse-migration-kernel-reboot not
    suse-migration-kernel-load

commit 3e94458073d40aaa61c75f782ded8153abd77a50
Author:     Marcus Schäfer <marcus.schaefer@gmail.com>
AuthorDate: Wed Nov 28 12:50:03 2018 +0100
Commit:     Marcus Schäfer <marcus.schaefer@gmail.com>
CommitDate: Wed Nov 28 12:50:03 2018 +0100

    Bump version: 0.3.5 → 0.3.6

commit 21f2b7de898ee256a6836f20c95d885b166e1156
Author:     Marcus Schäfer <marcus.schaefer@gmail.com>
AuthorDate: Wed Nov 28 12:41:58 2018 +0100
Commit:     Marcus Schäfer <marcus.schaefer@gmail.com>
CommitDate: Wed Nov 28 12:41:58 2018 +0100

    Fixed removal of suse-migration-activation
    
    A simple rpm -e call leads to an error because the package
    depends on the master package providing the image. Thus it's
    better to instruct zypper to remove the package including its
    dependencies

commit bf1c13d034b4dd2db686df9665196a2cdf2ae35e
Author:     Marcus Schäfer <marcus.schaefer@gmail.com>
AuthorDate: Wed Nov 28 12:31:13 2018 +0100
Commit:     Marcus Schäfer <marcus.schaefer@gmail.com>
CommitDate: Wed Nov 28 12:31:13 2018 +0100

    Fixed invocation of Command.run
    
    Use of unexpected keyword argument

commit af843f705f673c87ffeeebff1d57d43cd11c4c8d
Author:     Marcus Schäfer <marcus.schaefer@gmail.com>
AuthorDate: Wed Nov 28 12:26:14 2018 +0100
Commit:     Marcus Schäfer <marcus.schaefer@gmail.com>
CommitDate: Wed Nov 28 12:26:14 2018 +0100

    Fixed kexec reboot kernel and grub lookup
    
    In the reboot service the kernel files and the grub config
    was not searched in the root of the migrated system but in
    the root of the migration live system, which is the wrong
    place.

commit 1f3962350e5e986dbdab8c8ebd0913095ddede47
Author:     Marcus Schäfer <marcus.schaefer@gmail.com>
AuthorDate: Wed Nov 28 11:56:34 2018 +0100
Commit:     Marcus Schäfer <marcus.schaefer@gmail.com>
CommitDate: Wed Nov 28 11:56:34 2018 +0100

    Fixed kernel reboot service
    
    The unit requirements and dependencies were set wrong

commit 13063e41b9930bdfa34b56583cd59890a942cb29
Author:     Marcus Schäfer <marcus.schaefer@gmail.com>
AuthorDate: Tue Nov 27 17:33:34 2018 +0100
Commit:     Marcus Schäfer <marcus.schaefer@gmail.com>
CommitDate: Tue Nov 27 17:33:34 2018 +0100

    Bump version: 0.3.4 → 0.3.5

commit e0cd030c1fd38fff8a6132ff9386712bf76d5443
Author:     Jesus Bermudez Velazquez <jesus.bv@suse.com>
AuthorDate: Tue Nov 27 09:56:34 2018 +0000
Commit:     Jesus Bermudez Velazquez <jesus.bv@suse.com>
CommitDate: Tue Nov 27 09:56:34 2018 +0000

    Update target for uninstall
    
    Set the target properly to uninstall package suse-migration-activation.
    Fixes #17

commit c2b499ab705e667e86d05fd72dd814446601a4f3
Author:     Marcus Schäfer <marcus.schaefer@gmail.com>
AuthorDate: Mon Nov 26 10:46:56 2018 +0100
Commit:     Marcus Schäfer <marcus.schaefer@gmail.com>
CommitDate: Mon Nov 26 10:46:56 2018 +0100

    Bump version: 0.3.3 → 0.3.4

commit dd45aecd374bfc48baa46e669c93356d4765ff5c
Author:     Jesus Bermudez Velazquez <jjesusbv@gmail.com>
AuthorDate: Mon Nov 26 09:27:40 2018 +0000
Commit:     GitHub <noreply@github.com>
CommitDate: Mon Nov 26 09:27:40 2018 +0000

    Add kexec-tools (#16)
    
    * Add kexec-tools
    
    This is nedded for rebooting the migrated system
    with the new kernel.

commit 4a910f7fd8eea0e1ad67b710aa312015ee5d4e65
Author:     Jesus Bermudez Velazquez <jesus.bv@suse.com>
AuthorDate: Sun Nov 25 16:10:27 2018 +0000
Commit:     Jesus Bermudez Velazquez <jesus.bv@suse.com>
CommitDate: Sun Nov 25 16:10:27 2018 +0000

    Uninstall suse-migration-activation
    
    The new grub menu should not have this entry.
    This solves issue #12

commit 5cf5f40d0ceb7ef077c20829ed100f4a18dfdb3c
Author:     Marcus Schäfer <marcus.schaefer@gmail.com>
AuthorDate: Fri Nov 23 10:28:20 2018 +0100
Commit:     Marcus Schäfer <marcus.schaefer@gmail.com>
CommitDate: Fri Nov 23 10:28:20 2018 +0100

    Bump version: 0.3.2 → 0.3.3

commit 3e89f5140941d289cfc3c18663ae202d6b80ed2b
Author:     Marcus Schäfer <marcus.schaefer@gmail.com>
AuthorDate: Fri Nov 23 09:44:46 2018 +0100
Commit:     Marcus Schäfer <marcus.schaefer@gmail.com>
CommitDate: Fri Nov 23 09:44:46 2018 +0100

    Set the Migration boot entry to be the default
    
    In addition set the boot timeout to 1sec

commit 7994f7cbc222a7bfb26bd5abfeb2530f453bc691
Author:     Jesus Bermudez Velazquez <jesus.bv@suse.com>
AuthorDate: Thu Nov 22 17:54:59 2018 +0000
Commit:     Jesus Bermudez Velazquez <jesus.bv@suse.com>
CommitDate: Thu Nov 22 17:54:59 2018 +0000

    Refactor get_cmdline
    
    More generic parameter name and better search
    of target kernel command line options.

commit 0a3c047e7b0e9262fea838193e446f28afec9ccb
Author:     Jesus Bermudez Velazquez <jesus.bv@suse.com>
AuthorDate: Wed Nov 21 13:25:58 2018 +0000
Commit:     Marcus Schäfer <marcus.schaefer@gmail.com>
CommitDate: Thu Nov 22 16:10:04 2018 +0100

    Add kexec reboot service

commit 4ba46ceb17b723a4cbf60011879da1c4738044c9
Author:     Marcus Schäfer <marcus.schaefer@gmail.com>
AuthorDate: Thu Nov 22 15:58:36 2018 +0100
Commit:     Marcus Schäfer <marcus.schaefer@gmail.com>
CommitDate: Thu Nov 22 15:58:36 2018 +0100

    Bump version: 0.3.1 → 0.3.2

commit 0558a0ff27d6dc85433c721a30205c325db2842a
Author:     Marcus Schäfer <marcus.schaefer@gmail.com>
AuthorDate: Wed Nov 21 09:21:23 2018 +0100
Commit:     Marcus Schäfer <marcus.schaefer@gmail.com>
CommitDate: Wed Nov 21 09:50:51 2018 +0100

    Added grub config extension to activate migration
    
    Provide /etc/grub.d/99_migration plugin which causes
    the creation of a Migration grub menu entry. In addition
    the package build was cleaned up and extended by a new
    sub-package suse-migration-activation which provides
    that grub config plugin.

commit ab5eee29f34897c547edaf9b87698c59774fdb6a
Author:     Marcus Schäfer <marcus.schaefer@gmail.com>
AuthorDate: Wed Nov 21 09:19:31 2018 +0100
Commit:     Marcus Schäfer <marcus.schaefer@gmail.com>
CommitDate: Wed Nov 21 09:22:41 2018 +0100

    Remount system root if booted via grub loopback
    
    if the system to become migrated was booted via a grub
    loopback menuentry, the disk is blocked by that readonly
    loopback mount and needs to be remounted for read write
    access first

commit d5676895c533faae0350a87e0f1a9652a518053f
Author:     Marcus Schäfer <marcus.schaefer@gmail.com>
AuthorDate: Mon Nov 19 10:12:17 2018 +0100
Commit:     Marcus Schäfer <marcus.schaefer@gmail.com>
CommitDate: Mon Nov 19 10:12:17 2018 +0100

    Bump version: 0.3.0 → 0.3.1

commit ea6c37afd803c3849a2715fc4b0a61c0657e303f
Author:     Marcus Schäfer <marcus.schaefer@gmail.com>
AuthorDate: Mon Nov 19 10:11:43 2018 +0100
Commit:     Marcus Schäfer <marcus.schaefer@gmail.com>
CommitDate: Mon Nov 19 10:11:43 2018 +0100

    Hotfix fstab export method
    
    Put newline at the end of each fstab entry

commit afa6de58a7ffd9c7f39db2b676d2ac37da3bf0ea
Author:     Marcus Schäfer <marcus.schaefer@gmail.com>
AuthorDate: Fri Nov 16 14:49:49 2018 +0100
Commit:     Marcus Schäfer <marcus.schaefer@gmail.com>
CommitDate: Fri Nov 16 14:49:49 2018 +0100

    Bump version: 0.2.1 → 0.3.0

commit 92044903a9b79580b54b043aff6707f41a9ab460
Author:     Jesus Bermudez Velazquez <jesus.bv@suse.com>
AuthorDate: Fri Nov 16 13:17:26 2018 +0000
Commit:     Jesus Bermudez Velazquez <jesus.bv@suse.com>
CommitDate: Fri Nov 16 13:17:26 2018 +0000

    Resolve the mount stack in reverse order

commit f9b5491cc104fdcda4796230b33620b6c60cffae
Author:     Jesus Bermudez Velazquez <jesus.bv@suse.com>
AuthorDate: Fri Nov 16 12:42:15 2018 +0000
Commit:     Jesus Bermudez Velazquez <jesus.bv@suse.com>
CommitDate: Fri Nov 16 12:42:15 2018 +0000

    Remove variable

commit faec86a5ca627218907d99212550f8a196c780ee
Author:     Jesus Bermudez Velazquez <jesus.bv@suse.com>
AuthorDate: Fri Nov 16 12:26:27 2018 +0000
Commit:     Jesus Bermudez Velazquez <jesus.bv@suse.com>
CommitDate: Fri Nov 16 12:26:27 2018 +0000

    Cleanup of mounted paths

commit e672722000c6dc4fb39931d65f3522bd47610f57
Author:     Jesus Bermudez Velazquez <jesus.bv@suse.com>
AuthorDate: Thu Nov 15 14:01:11 2018 +0000
Commit:     Jesus Bermudez Velazquez <jesus.bv@suse.com>
CommitDate: Thu Nov 15 14:01:11 2018 +0000

    Mount sys

commit 517d2eeebda186455313474cd0dc7ea31ecf0263
Author:     Jesus Bermudez Velazquez <jesus.bv@suse.com>
AuthorDate: Thu Nov 15 11:43:17 2018 +0000
Commit:     Jesus Bermudez Velazquez <jesus.bv@suse.com>
CommitDate: Thu Nov 15 11:43:17 2018 +0000

    Test add entry of services calls

commit c3e058678d85fbc1926db03c4c23c51dedee123d
Author:     Jesus Bermudez Velazquez <jesus.bv@suse.com>
AuthorDate: Thu Nov 15 10:50:30 2018 +0000
Commit:     Jesus Bermudez Velazquez <jesus.bv@suse.com>
CommitDate: Thu Nov 15 10:50:30 2018 +0000

    Store service calls

commit bd1ed7e27d8cfc9ac5aba73c37325881699487b7
Author:     Jesus Bermudez Velazquez <jesus.bv@suse.com>
AuthorDate: Thu Nov 15 09:49:46 2018 +0000
Commit:     Jesus Bermudez Velazquez <jesus.bv@suse.com>
CommitDate: Thu Nov 15 09:49:46 2018 +0000

    Make one call

commit 58bb936f228620a666b0c9b59de7b4ba29bb1d9d
Author:     Jesus Bermudez Velazquez <jesus.bv@suse.com>
AuthorDate: Thu Nov 15 09:46:52 2018 +0000
Commit:     Jesus Bermudez Velazquez <jesus.bv@suse.com>
CommitDate: Thu Nov 15 09:46:52 2018 +0000

    Add dependencies

commit a25e718f367e1d2062301c0298cee210a9de2369
Author:     Jesus Bermudez Velazquez <jesus.bv@suse.com>
AuthorDate: Thu Nov 15 09:45:13 2018 +0000
Commit:     Jesus Bermudez Velazquez <jesus.bv@suse.com>
CommitDate: Thu Nov 15 09:45:13 2018 +0000

    Specific service names

commit a78ed67ff8bce5524576e514ac74cd3fad0fe6c5
Author:     Jesus Bermudez Velazquez <jesus.bv@suse.com>
AuthorDate: Wed Nov 14 15:44:57 2018 +0000
Commit:     Marcus Schäfer <marcus.schaefer@gmail.com>
CommitDate: Wed Nov 14 20:45:30 2018 +0100

    Update grub file to migrated version

commit 284674cd814aea57fadb3df273620689204121a5
Author:     Marcus Schäfer <marcus.schaefer@gmail.com>
AuthorDate: Wed Nov 14 20:29:13 2018 +0100
Commit:     Marcus Schäfer <marcus.schaefer@gmail.com>
CommitDate: Wed Nov 14 20:29:13 2018 +0100

    Umount service must run after grub-setup service

commit f90c8f124fb9d03c1c23193f09cae36a869abe84
Author:     Marcus Schäfer <marcus.schaefer@gmail.com>
AuthorDate: Wed Nov 14 18:45:13 2018 +0100
Commit:     Marcus Schäfer <marcus.schaefer@gmail.com>
CommitDate: Wed Nov 14 18:45:13 2018 +0100

    Refactor mount path handling
    
    Instead of duplicating code in the cleanup service make sure
    all services which mounts a location updates the mount meta
    data file /etc/system-root.fstab. The cleanup service in the
    end just reverse reads that file and umounts all locations

commit c38885d80b757a33d6d7b691d016e045bbd04005
Author:     Robert Schweikert <rjschwei@suse.com>
AuthorDate: Wed Nov 14 10:26:29 2018 -0500
Commit:     Robert Schweikert <rjschwei@suse.com>
CommitDate: Wed Nov 14 10:26:29 2018 -0500

    - Fix typo in doc string

commit 2525377b307208635ba0564f02fa1d11b8070906
Author:     Marcus Schäfer <marcus.schaefer@gmail.com>
AuthorDate: Wed Nov 14 15:32:39 2018 +0100
Commit:     Marcus Schäfer <marcus.schaefer@gmail.com>
CommitDate: Wed Nov 14 15:43:25 2018 +0100

    Added umount service
    
    The umount service cleans up the migration host such that
    no active mount reference into the migrated systems exists
    anymore and we are safe to reboot

commit 33edf9357d01d9e04f8a7a5765abc574d5c8cff2
Author:     Marcus Schäfer <marcus.schaefer@gmail.com>
AuthorDate: Tue Nov 13 16:12:38 2018 +0100
Commit:     Marcus Schäfer <marcus.schaefer@gmail.com>
CommitDate: Tue Nov 13 16:12:38 2018 +0100

    Bump version: 0.2.0 → 0.2.1

commit 1b8ebef21ce1cdaa3afec284917165bff197a95d
Author:     Jesus Bermudez Velazquez <jesus.bv@suse.com>
AuthorDate: Tue Nov 13 13:20:48 2018 +0000
Commit:     Jesus Bermudez Velazquez <jesus.bv@suse.com>
CommitDate: Tue Nov 13 13:20:48 2018 +0000

    Fix agree-licenses test

commit b3ff64c1513657c40d94f55cb9910f2aa7a5eee6
Author:     Jesus Bermudez Velazquez <jesus.bv@suse.com>
AuthorDate: Tue Nov 13 13:12:15 2018 +0000
Commit:     Jesus Bermudez Velazquez <jesus.bv@suse.com>
CommitDate: Tue Nov 13 13:12:15 2018 +0000

    Fix agree-licenses option typo

commit bb4b9669a96fddc1a4710bfd92cfde86980dc176
Author:     Marcus Schäfer <marcus.schaefer@gmail.com>
AuthorDate: Tue Nov 13 11:16:20 2018 +0100
Commit:     Marcus Schäfer <marcus.schaefer@gmail.com>
CommitDate: Tue Nov 13 11:16:20 2018 +0100

    Bump version: 0.1.2 → 0.2.0

commit 7cfe00983d7dda52f3fc3a6bbc07dfc92a2237f7
Author:     Marcus Schäfer <marcus.schaefer@gmail.com>
AuthorDate: Tue Nov 13 11:08:33 2018 +0100
Commit:     Marcus Schäfer <marcus.schaefer@gmail.com>
CommitDate: Tue Nov 13 11:08:33 2018 +0100

    Use --non-interactive flag
    
    Instead of pre selecting a menu index use the non
    interactive flag and make the code more robust

commit d4c0f7f28234b29a5f48f4d31d383210476bd43c
Author:     Marcus Schäfer <marcus.schaefer@gmail.com>
AuthorDate: Mon Nov 12 15:40:51 2018 +0100
Commit:     Marcus Schäfer <marcus.schaefer@gmail.com>
CommitDate: Mon Nov 12 16:25:48 2018 +0100

    Added zypper migration service
    
    The service which actually runs the zypper migration plugin.
    The service is called after the preparation step has completed
    successfully

commit 9f9cfec6988f0098610b72f76a5b477bd242f68e
Author:     Marcus Schäfer <marcus.schaefer@gmail.com>
AuthorDate: Tue Oct 23 11:15:20 2018 +0200
Commit:     Marcus Schäfer <marcus.schaefer@gmail.com>
CommitDate: Tue Oct 23 11:15:20 2018 +0200

    Bump version: 0.1.1 → 0.1.2

commit 59ccf6880d06fb5e146cfb36cdaabd0da9d09bac
Author:     Marcus Schäfer <marcus.schaefer@gmail.com>
AuthorDate: Tue Oct 23 11:12:23 2018 +0200
Commit:     Marcus Schäfer <marcus.schaefer@gmail.com>
CommitDate: Tue Oct 23 11:12:23 2018 +0200

    make sure to restart the network actively

commit e382afc0580f8339acdc139e6853f0877a905b5b
Author:     Marcus Schäfer <marcus.schaefer@gmail.com>
AuthorDate: Tue Oct 23 09:31:36 2018 +0200
Commit:     Marcus Schäfer <marcus.schaefer@gmail.com>
CommitDate: Tue Oct 23 09:31:36 2018 +0200

    Bump version: 0.1.0 → 0.1.1

commit 70e01d40b27898db84db6c2565b422bed9e10241
Author:     Marcus Schäfer <marcus.schaefer@gmail.com>
AuthorDate: Mon Oct 22 10:35:07 2018 +0200
Commit:     Marcus Schäfer <marcus.schaefer@gmail.com>
CommitDate: Mon Oct 22 10:35:07 2018 +0200

    The presence of /etc/SUSEConnect is optional
    
    Do not fail the prepare service if there is no /etc/SUSEConnect
    file available on the system to become migrated. Copy the
    file if present and just continue otherwise

commit 703147f0daad9f4bf477f587c7740a96d40cebe9
Author:     Marcus Schäfer <marcus.schaefer@gmail.com>
AuthorDate: Tue Oct 16 09:02:56 2018 +0200
Commit:     Marcus Schäfer <marcus.schaefer@gmail.com>
CommitDate: Tue Oct 16 09:02:56 2018 +0200

    Bump version: 0.0.1 → 0.1.0

commit dabc2fe7c786d2cf39caec7d5bb6515026840d1c
Author:     Marcus Schäfer <marcus.schaefer@gmail.com>
AuthorDate: Mon Oct 15 15:22:47 2018 +0200
Commit:     Marcus Schäfer <marcus.schaefer@gmail.com>
CommitDate: Tue Oct 16 09:01:40 2018 +0200

    Added prepare service
    
    The prepare service runs the preparation tasks for systemd
    to perform the migration. This includes the import of the
    SUSEConnect configuration from the host as well as the
    bind mount of the zypp metadata

commit ce966759c096e246fccff6e3fcacac5d922b45ed
Author:     Marcus Schäfer <marcus.schaefer@gmail.com>
AuthorDate: Mon Oct 15 11:55:11 2018 +0200
Commit:     Marcus Schäfer <marcus.schaefer@gmail.com>
CommitDate: Mon Oct 15 14:43:20 2018 +0200

    Added setup host network service
    
    Added service to activate the migration host system network

commit b43fe91e9c45a00f43d1430fc480918f84a578fc
Author:     Marcus Schäfer <marcus.schaefer@gmail.com>
AuthorDate: Wed Oct 10 16:29:56 2018 +0200
Commit:     Marcus Schäfer <marcus.schaefer@gmail.com>
CommitDate: Thu Oct 11 10:33:11 2018 +0200

    Implement mount_system service
    
    The mount_system service looks for existing disk partitions
    and for an fstab file on that partitions. The first partition
    found with an fstab file is considered the system to upgrade.
    The fstab file is read in and mounted /system-root
    in the order of the fstab entries

commit b6354472344f305dd3144b4ae053d2513ae6dfa7
Author:     Marcus Schäfer <marcus.schaefer@gmail.com>
AuthorDate: Wed Oct 10 15:44:42 2018 +0200
Commit:     Marcus Schäfer <marcus.schaefer@gmail.com>
CommitDate: Wed Oct 10 15:44:42 2018 +0200

    Activate travis Ci

commit b65d128f101f0f478ebb08f16b1726c82efeae42
Author:     Marcus Schäfer <marcus.schaefer@gmail.com>
AuthorDate: Wed Oct 10 15:43:09 2018 +0200
Commit:     Marcus Schäfer <marcus.schaefer@gmail.com>
CommitDate: Wed Oct 10 15:43:09 2018 +0200

    Added command and path helper classes

commit cb67ce6b51b48efd67f0330eae41423935e86ddb
Author:     Marcus Schäfer <marcus.schaefer@gmail.com>
AuthorDate: Tue Oct 9 17:34:03 2018 +0200
Commit:     Marcus Schäfer <marcus.schaefer@gmail.com>
CommitDate: Tue Oct 9 17:34:03 2018 +0200

    Initial project setup
